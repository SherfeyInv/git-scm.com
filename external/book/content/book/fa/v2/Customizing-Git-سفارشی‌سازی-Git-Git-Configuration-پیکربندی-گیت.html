---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: fa
  chapter:
    title: Customizing Git (سفارشی‌سازی Git)
    number: 8
  section:
    title: Git Configuration (پیکربندی گیت)
    number: 1
    cs_number: '8.1'
    previous: book/fa/v2/Git-Tools-Summary
    next: book/fa/v2/Customizing-Git-سفارشی‌سازی-Git-Git-Attributes-ویژگی‌های-گیت
title: Git - Git Configuration (پیکربندی گیت)
url: "/book/fa/v2/Customizing-Git-سفارشی‌سازی-Git-Git-Configuration-پیکربندی-گیت.html"
---
<p>تا اینجا، اصول اولیه نحوه کار Git و نحوه استفاده از آن را پوشش داده‌ایم و تعدادی ابزار که Git برای استفاده آسان و کارآمد ارائه می‌دهد را معرفی کرده‌ایم. در این فصل، خواهیم دید که چگونه می‌توانید Git را به صورت سفارشی‌تر تنظیم کنید، با معرفی چند تنظیمات پیکربندی مهم و سیستم hook‌ها. با این ابزارها، آسان است که Git را طوری تنظیم کنید که دقیقاً مطابق با نیاز شما، شرکت یا گروه شما عمل کند.</p>
<h2 id="_git_config">Git Configuration (پیکربندی گیت)</h2>
<div class="paragraph">
<p>
همانطور که به طور مختصر در <a href="{{< relurl "book/fa/v2/ch00/ch01-getting-started" >}}">شروع به کار</a>
      خواندید، می‌توانید تنظیمات پیکربندی گیت را با دستور <code>git config</code> مشخص کنیدپیدا کنید.
      یکی از اولین کارهایی که انجام دادید، تنظیم نام و آدرس ایمیل شما بود:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global user.name "Your Username"
$ git config --global user.email email@example.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>اکنون چند گزینه جالب‌تر را یاد خواهید گرفت که می‌توانید به این روش برای سفارشی‌سازی استفاده از گیت تنظیم
      کنید.</p>
</div>
<div class="paragraph">
<p>اول، یک مرور سریع: گیت از مجموعه‌ای از فایل‌های پیکربندی برای تعیین رفتار غیر پیش‌فرضی که ممکن است بخواهید
      استفاده می‌کند.
      اولین جایی که گیت به دنبال این مقادیر می‌گردد، فایل پیکربندی سیستم‌گسترده <code>/etc/gitconfig</code> است که شامل
      تنظیماتی است که به هر کاربر در سیستم و تمام مخازن آن‌ها اعمال می‌شود.
      اگر گزینه <code>--system</code> را به <code>git config</code> بدهید، به طور خاص از این فایل خوانده و نوشته می‌شود.</p>
</div>
<div class="paragraph">
<p>جای بعدی که گیت به دنبال آن می‌گردد، فایل <code>~/.gitconfig</code> (یا <code>~/.config/git/config</code>) است که
      مختص هر کاربر است.
      می‌توانید با دادن گزینه <code>--global</code> به گیت بگویید که از این فایل بخواند و بنویسد.</p>
</div>
<div class="paragraph">
<p>در نهایت، گیت به دنبال مقادیر پیکربندی در فایل پیکربندی در دایرکتوری گیت (<code>.git/config</code>) از هر مخزنی
      که در حال حاضر استفاده می‌کنید، می‌گردد.
      این مقادیر مختص آن مخزن خاص هستند و نمایانگر دادن گزینه <code>--local</code> به <code>git config</code> هستند.
      (اگر مشخص نکنید که می‌خواهید با کدام سطح کار کنید، این پیش‌فرض است.)</p>
</div>
<div class="paragraph">
<p>هر یک از این "سطوح" (سیستم، جهانی، محلی) مقادیر سطح قبلی را بازنویسی می‌کند، بنابراین مقادیر در
      <code>.git/config</code> بر مقادیر در <code>/etc/gitconfig</code> ارجحیت دارند، به عنوان مثال.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">یادداشت</div>
</td>
<td class="content">
<div class="paragraph">
<p>فایل‌های پیکربندی گیت متن‌ساده هستند، بنابراین می‌توانید این مقادیر را با ویرایش دستی فایل و وارد کردن
              نحو صحیح نیز تنظیم کنید.
              با این حال، معمولاً راحت‌تر است که دستور <code>git config</code> را اجرا کنید.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h3 id="_basic_client_configuration_پیکربندی_پایه_کلاینت">Basic Client Configuration (پیکربندی پایه کلاینت)</h3>
<div class="paragraph">
<p>گزینه‌های پیکربندی که توسط Git شناسایی می‌شوند، به دو دسته تقسیم می‌شوند: سمت کلاینت و سمت سرور.
اکثر گزینه‌ها سمت کلاینت هستند — یعنی پیکربندی ترجیحات کاری شخصی شما.
بسیاری، بسیاری از گزینه‌های پیکربندی پشتیبانی می‌شوند، اما بخش زیادی از آن‌ها تنها در برخی موارد خاص مفید هستند؛ در اینجا فقط به متداول‌ترین و مفیدترین گزینه‌ها خواهیم پرداخت.
اگر می‌خواهید فهرستی از تمام گزینه‌هایی که نسخه Git شما شناسایی می‌کند ببینید، می‌توانید دستور زیر را اجرا کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ man git-config</code></pre>
</div>
</div>
<div class="paragraph">
<p>این دستور تمام گزینه‌های موجود را با جزئیات کافی لیست می‌کند.
شما همچنین می‌توانید این مواد مرجعی را در آدرس <a href="https://git-scm.com/docs/git-config" class="bare">https://git-scm.com/docs/git-config</a> پیدا کنید.</p>
</div>
<div class="sect4">
<h4 id="_core_editor"><code>core.editor</code></h4>
<div class="paragraph">
<p>
به طور پیش‌فرض، گیت از هر چیزی که به عنوان ویرایشگر متن پیش‌فرض خود از طریق یکی از متغیرهای محیطی شل <code>VISUAL</code>
          یا <code>EDITOR</code> تنظیم کرده‌اید، استفاده می‌کند، و در غیر این صورت به ویرایشگر <code>vi</code> برای
          ایجاد و ویرایش پیام‌های کامیت و برچسب‌ها بازمی‌گردد.
          برای تغییر این پیش‌فرض به چیز دیگری، می‌توانید از تنظیم <code>core.editor</code> استفاده کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.editor emacs</code></pre>
</div>
</div>
<div class="paragraph">
<p>اکنون، مهم نیست که چه چیزی به عنوان ویرایشگر شل پیش‌فرض شما تنظیم شده باشد، گیت برای ویرایش پیام‌ها، Emacs را
          باز می‌کند.</p>
</div>
</div>
<div class="sect4">
<h4 id="_commit_template"><code>commit.template</code></h4>
<div class="paragraph">
<p>
اگر این را به مسیر یک فایل در سیستم خود تنظیم کنید، گیت از آن فایل به عنوان پیام اولیه پیش‌فرض هنگام کامیت
          استفاده خواهد کرد.
          ارزش ایجاد یک الگوی کامیت سفارشی این است که می‌توانید از آن برای یادآوری خود (یا دیگران) در مورد فرمت و سبک
          مناسب هنگام ایجاد یک پیام کامیت استفاده کنید.</p>
</div>
<div class="paragraph">
<p>به عنوان مثال، یک فایل الگو در <code>~/.gitmessage.txt</code> که به این شکل باشد:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">خط توضیحات (سعی کنید زیر 50 کاراکتر نگه دارید)

توضیحات چند خطی از کامیت،
احساس راحتی کنید که جزئیات بیشتری اضافه کنید.

[Ticket: X]</code></pre>
</div>
</div>
<div class="paragraph">
<p>به یاد داشته باشید که این الگوی کامیت به کامیت‌کننده یادآوری می‌کند که خط موضوع را کوتاه نگه دارد (برای خروجی
          <code>git log --oneline</code>)، جزئیات بیشتری زیر آن اضافه کند و اگر تیکتی وجود دارد، به شماره تیکت یا ردیاب
          اشکال اشاره کند.</p>
</div>
<div class="paragraph">
<p>برای اینکه به گیت بگویید از آن به عنوان پیام پیش‌فرضی که هنگام اجرای <code>git commit</code> در ویرایشگر شما
          ظاهر می‌شود استفاده کند، مقدار پیکربندی <code>commit.template</code> را تنظیم کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global commit.template ~/.gitmessage.txt
$ git commit</code></pre>
</div>
</div>
<div class="paragraph">
<p>سپس، ویرایشگر شما برای پیام کامیت جایگزین شما به چیزی شبیه به این باز خواهد شد:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">خط موضوع (سعی کنید زیر 50 کاراکتر نگه دارید)

توضیح چندخطی درباره‌ی commit،
برای توضیح جزئیات بیشتر آزاد هستید.

[Ticket: X]
# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# Changes to be committed:
#   (use "git reset HEAD &lt;file&gt;..." to unstage)
#
# modified:   lib/test.rb
#
~
~
".git/COMMIT_EDITMSG" 14L, 297C</code></pre>
</div>
</div>
<div class="paragraph">
<p>اگر تیم شما یک سیاست خاص برای پیام‌های commit دارد، قرار دادن یک الگو برای آن سیاست در سیستم شما و پیکربندی Git برای استفاده از آن به‌طور پیش‌فرض می‌تواند شانس پیروی منظم از آن سیاست را افزایش دهد.
===== <code>core.pager</code></p>
</div>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>این تنظیم تعیین می‌کند که کدام پیجر (pager) زمانی که Git خروجی‌هایی مانند log و diff را صفحه‌بندی می‌کند، استفاده شود.
شما می‌توانید آن را به more یا پیجر مورد علاقه‌تان تنظیم کنید (به‌طور پیش‌فرض، less است)، یا می‌توانید آن را با تنظیم کردن به یک رشته خالی غیرفعال کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.pager ''</code></pre>
</div>
</div>
<div class="paragraph">
<p>اگر این کار را انجام دهید، گیت تمام خروجی تمام دستورات را صفحه‌بندی می‌کند، مهم نیست که چقدر طولانی
          هستند.</p>
</div>
</div>
<div class="sect4">
<h4 id="_user_signingkey"><code>user.signingkey</code></h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>اگر شما در حال ایجاد تگ‌های verified و حاشیه‌نویسی شده (طبق توضیحات در <a href="{{< relurl "book/fa/v2/ch00/_signing" >}}">Signing Your Work</a>)، تنظیم کردن کلید امضای GPG به‌عنوان یک تنظیم پیکربندی کارها را آسان‌تر می‌کند.
شما می‌توانید شناسه کلید خود را به این صورت تنظیم کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global user.signingkey &lt;gpg-key-id&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>حالا می‌توانید تگ‌ها را بدون نیاز به مشخص کردن کلید خود هر بار با دستور <code>git tag</code> امضا کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag -s &lt;tag-name&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h4 id="_core_excludesfile"><code>core.excludesfile</code></h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>شما می‌توانید الگوهایی را در فایل <code>.gitignore</code> پروژه‌تان قرار دهید تا <code>Git</code> آن‌ها را به‌عنوان فایل‌های غیرپیگیری‌شده نبیند یا هنگام اجرای دستور <code>git add</code> سعی نکند آن‌ها را stage کند، همان‌طور که در <a href="{{< relurl "book/fa/v2/ch00/_ignoring" >}}">نادیده گرفتن فایل‌ها</a> توضیح داده شده است.</p>
</div>
<div class="paragraph">
<p>اما گاهی اوقات ممکن است بخواهید فایل‌های خاصی را برای تمام ریپازیتوری‌هایی که با آن‌ها کار می‌کنید نادیده بگیرید.
اگر سیستم‌عامل شما macOS است، احتمالاً با فایل‌های .DS_Store آشنا هستید.
اگر ویرایشگر مورد علاقه شما Emacs یا Vim باشد، از فایل‌هایی که با ~ یا .swp تمام می‌شوند، خبر دارید.</p>
</div>
<div class="paragraph">
<p>این تنظیم به شما این امکان را می‌دهد که یک فایل .gitignore سراسری بنویسید.
اگر یک فایل <code>~/.gitignore_global</code> با این محتوا ایجاد کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ini" data-lang="ini">*~
.*.swp
.DS_Store</code></pre>
</div>
</div>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>و اگر دستور git config --global core.excludesfile ~/.gitignore_global را اجرا کنید، Git دیگر هیچ‌گاه شما را بابت آن فایل‌ها اذیت نخواهد کرد.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h4 id="_help_autocorrect"><code>help.autocorrect</code></h4>
<div class="paragraph">
<p>
اگر یک دستور را اشتباه تایپ کنید، چیزی شبیه به این به شما نشان می‌دهد:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git chekcout master
git: 'chekcout' is not a git command. See 'git --help'.

آیا منظور شما این بود؟
    checkout</code></pre>
</div>
</div>
<div class="paragraph">
<p>Git با کمال میل سعی می‌کند بفهمد که شما چه می‌خواستید بگویید، اما هنوز این کار را انجام نمی‌دهد.
اگر گزینه <code>help.autocorrect</code> را به 1 تنظیم کنید، Git در واقع این دستور را به‌طور خودکار برای شما اجرا خواهد کرد:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git chekcout master
WARNING: You called a Git command named 'chekcout', which does not exist.
Continuing under the assumption that you meant 'checkout'
in 0.1 seconds automatically...</code></pre>
</div>
</div>
<div class="paragraph">
<p>به یاد داشته باشید که این "0.1 ثانیه" است.
          <code>help.autocorrect</code> در واقع یک عدد صحیح است که نمایانگر دهم‌های ثانیه است.
          بنابراین اگر آن را به 50 تنظیم کنید، گیت به شما 5 ثانیه زمان می‌دهد تا قبل از اجرای دستور اصلاح شده، نظر خود
          را تغییر دهید.</p>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_colors_in_git_رنگها_در_گیت">Colors in Git (رنگ‌ها در گیت)</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Git به‌طور کامل از خروجی رنگی در ترمینال پشتیبانی می‌کند، که به‌طور قابل توجهی در تجزیه و تحلیل سریع و آسان خروجی دستورات کمک می‌کند.
چندین گزینه وجود دارد که می‌توانند به شما کمک کنند رنگ‌بندی را طبق سلیقه‌تان تنظیم کنید</p>
</div>
<div class="sect4">
<h4 id="_color_ui"><code>color.ui</code></h4>
<div class="paragraph">
<p>گیت به طور خودکار بیشتر خروجی‌های خود را رنگ‌آمیزی می‌کند، اما یک سوئیچ اصلی وجود دارد اگر این رفتار را
          نپسندید.
          برای خاموش کردن تمام خروجی رنگی ترمینال گیت، این کار را انجام دهید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global color.ui false</code></pre>
</div>
</div>
<div class="paragraph">
<p>تنظیم پیش‌فرض <code>auto</code> است، که خروجی را زمانی که مستقیماً به ترمینال می‌رود رنگی می‌کند، اما کدهای کنترل رنگ را زمانی که خروجی به یک پایپ یا فایل هدایت می‌شود حذف می‌کند.</p>
</div>
<div class="paragraph">
<p>شما همچنین می‌توانید آن را به <code>always</code> تنظیم کنید تا تفاوت بین ترمینال‌ها و پایپ‌ها نادیده گرفته شود.
این گزینه به ندرت مورد نیاز است؛ در بیشتر سناریوها، اگر بخواهید کدهای رنگی را در خروجی هدایت‌شده‌تان داشته باشید، می‌توانید به‌جای آن یک پرچم <code>--color</code> به دستور Git اضافه کنید تا مجبور شود از کدهای رنگی استفاده کند.
تنظیم پیش‌فرض تقریباً همیشه همان چیزی است که شما نیاز دارید.</p>
</div>
</div>
<div class="sect4">
<h4 id="_color"><code>color.*</code></h4>
<div class="paragraph">
<p>اگر می‌خواهید دقیق‌تر مشخص کنید که کدام دستورات رنگی شوند و چگونه، Git تنظیمات رنگ‌بندی خاص برای هر دستور فراهم کرده است.
هر یک از این‌ها می‌تواند به یکی از مقادیر <code>true،</code> <code>false</code> یا <code>always</code> تنظیم شود:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>color.branch
color.diff
color.interactive
color.status</pre>
</div>
</div>
<div class="paragraph">
<p>علاوه بر این، هر یک از این تنظیمات دارای زیرتنظیماتی هستند که می‌توانید از آن‌ها برای تنظیم رنگ‌های خاص برای بخش‌های مختلف خروجی استفاده کنید، اگر بخواهید هر رنگ را به‌طور جداگانه تنظیم کنید.
برای مثال، برای تنظیم اطلاعات متا در خروجی <code>diff</code> به رنگ پیش‌زمینه آبی، پس‌زمینه سیاه و متن برجسته، می‌توانید دستور زیر را اجرا کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global color.diff.meta "blue black bold"</code></pre>
</div>
</div>
<div class="paragraph">
<p>شما می‌توانید رنگ را به هر یک از مقادیر زیر تنظیم کنید: <code>normal</code>، <code>black</code>،
          <code>red</code>، <code>green</code>، <code>yellow</code>، <code>blue</code>، <code>magenta</code>،
          <code>cyan</code>، یا <code>white</code>.
          اگر می‌خواهید ویژگی‌ای مانند بولد در مثال قبلی داشته باشید، می‌توانید از <code>bold</code>، <code>dim</code>،
          <code>ul</code> (زیرخط)، <code>blink</code> و <code>reverse</code> (معکوس کردن پیش‌زمینه و پس‌زمینه) انتخاب
          کنید.</p>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_external_merge_tools">External Merge and Diff Tools (ابزارهای خارجی برای ادغام و مقایسه)</h3>
<div class="paragraph">
<p>
اگرچه Git یک پیاده‌سازی داخلی از diff دارد، که همان چیزی است که در این کتاب نشان داده‌ایم، شما می‌توانید به جای آن از یک ابزار خارجی استفاده کنید.
همچنین می‌توانید یک ابزار گرافیکی برای حل تضادهای ادغام (merge conflicts) تنظیم کنید، به جای اینکه مجبور باشید تضادها را به‌صورت دستی حل کنید.
در اینجا، نحوه تنظیم ابزار Perforce Visual Merge Tool (P4Merge) برای انجام diffها و حل تضادهای ادغام را نشان خواهیم داد، زیرا این یک ابزار گرافیکی خوب و رایگان است.</p>
</div>
<div class="paragraph">
<p>اگر می‌خواهید این را امتحان کنید، P4Merge بر روی تمامی پلتفرم‌های اصلی کار می‌کند، بنابراین باید قادر به استفاده از آن باشید.
ما از مسیرهای فایل در مثال‌ها استفاده خواهیم کرد که بر روی سیستم‌های macOS و Linux کار می‌کنند؛ برای ویندوز، شما باید <code>/usr/local/bin</code> را به مسیری اجرایی در محیط خود تغییر دهید.</p>
</div>
<div class="paragraph">
<p>برای شروع، <a href="https://www.perforce.com/product/components/perforce-visual-merge-and-diff-tools">P4Merge
        را از Perforce دانلود کنید</a>.
        سپس، شما اسکریپت‌های wrapper خارجی را برای اجرای دستورات خود تنظیم خواهید کرد.
        ما از مسیر macOS برای اجرایی استفاده خواهیم کرد؛ در سیستم‌های دیگر، این جایی خواهد بود که باینری
        <code>p4merge</code> شما نصب شده است.
        یک اسکریپت wrapper ادغام به نام <code>extMerge</code> تنظیم کنید که باینری شما را با تمام آرگومان‌های ارائه شده
        فراخوانی کند:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /usr/local/bin/extMerge
#!/bin/sh
/Applications/p4merge.app/Contents/MacOS/p4merge $*</code></pre>
</div>
</div>
<div class="paragraph">
<p>wrapper diff بررسی می‌کند که آیا هفت آرگومان ارائه شده است و دو تا از آن‌ها را به اسکریپت ادغام شما منتقل
        می‌کند.
        به طور پیش‌فرض، گیت آرگومان‌های زیر را به برنامه diff منتقل می‌کند:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>path old-file old-hex old-mode new-file new-hex new-mode</code></pre>
</div>
</div>
<div class="paragraph">
<p>زیرا شما فقط می‌خواهید آرگومان‌های <code>old-file</code> و <code>new-file</code> را داشته باشید، از اسکریپت
        wrapper برای انتقال آن‌هایی که نیاز دارید استفاده می‌کنید.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /usr/local/bin/extDiff
#!/bin/sh
[ $# -eq 7 ] &amp;&amp; /usr/local/bin/extMerge "$2" "$5"</code></pre>
</div>
</div>
<div class="paragraph">
<p>شما همچنین باید مطمئن شوید که این ابزارها قابل اجرا هستند:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo chmod +x /usr/local/bin/extMerge
$ sudo chmod +x /usr/local/bin/extDiff</code></pre>
</div>
</div>
<div class="paragraph">
<p>اکنون می‌توانید فایل پیکربندی خود را برای استفاده از ابزارهای سفارشی ادغام و تفاوت خود تنظیم کنید.
        این نیاز به تعدادی تنظیمات سفارشی دارد: <code>merge.tool</code> برای گفتن به گیت که از چه استراتژی استفاده کند،
        <code>mergetool.&lt;tool&gt;.cmd</code> برای مشخص کردن نحوه اجرای دستور، <code>mergetool.&lt;tool&gt;.trustExitCode</code>
        برای گفتن به گیت که آیا کد خروج آن برنامه نشان‌دهنده یک ادغام موفق است یا خیر، و <code>diff.external</code> برای
        گفتن به گیت که چه دستوری را برای تفاوت‌ها اجرا کند.
        بنابراین، می‌توانید چهار دستور پیکربندی را اجرا کنید</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global merge.tool extMerge
$ git config --global mergetool.extMerge.cmd \
  'extMerge "$BASE" "$LOCAL" "$REMOTE" "$MERGED"'
$ git config --global mergetool.extMerge.trustExitCode false
$ git config --global diff.external extDiff</code></pre>
</div>
</div>
<div class="paragraph">
<p>یا می‌توانید فایل <code>~/.gitconfig</code> خود را ویرایش کنید تا این خطوط را اضافه کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ini" data-lang="ini">[merge]
  tool = extMerge
[mergetool "extMerge"]
  cmd = extMerge "$BASE" "$LOCAL" "$REMOTE" "$MERGED"
  trustExitCode = false
[diff]
  external = extDiff</code></pre>
</div>
</div>
<div class="paragraph">
<p>پس از تنظیم همه این‌ها، اگر دستورات diff مانند این را اجرا کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff 32d1776b1^ 32d1776b1</code></pre>
</div>
</div>
<div class="paragraph">
<p>به جای دریافت خروجی diff در خط فرمان، گیت P4Merge را راه‌اندازی می‌کند که چیزی شبیه به این خواهد بود:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/fa/v2/images/p4merge.png" >}}" alt="P4Merge.">
</div>
<div class="title">نمودار 141. P4Merge.</div>
</div>
<div class="paragraph">
<p>اگر سعی کنید دو شاخه را ادغام کنید و سپس تعارضات ادغام داشته باشید، می‌توانید دستور <code>git mergetool</code>
        را اجرا کنید؛ این ابزار P4Merge را برای حل تعارضات از طریق آن ابزار GUI راه‌اندازی می‌کند.</p>
</div>
<div class="paragraph">
<p>نکته خوب در مورد این تنظیمات wrapper این است که می‌توانید ابزارهای تفاوت و ادغام خود را به راحتی تغییر دهید.
        به عنوان مثال، برای تغییر ابزارهای <code>extDiff</code> و <code>extMerge</code> به KDiff3، تنها کاری که باید
        انجام دهید ویرایش فایل <code>extMerge</code> است:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /usr/local/bin/extMerge
#!/bin/sh
/Applications/kdiff3.app/Contents/MacOS/kdiff3 $*</code></pre>
</div>
</div>
<div class="paragraph">
<p>اکنون، گیت از ابزار KDiff3 برای مشاهده تفاوت‌ها و حل تعارضات ادغام استفاده خواهد کرد.</p>
</div>
<div class="paragraph">
<p>گیت به طور پیش‌فرض برای استفاده از تعدادی از ابزارهای دیگر حل تعارضات ادغام بدون نیاز به تنظیم پیکربندی cmd
        آماده است.
        برای دیدن فهرستی از ابزارهایی که پشتیبانی می‌کند، این کار را امتحان کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mergetool --tool-help
'git mergetool --tool=&lt;tool&gt;' ممکن است به یکی از موارد زیر تنظیم شود:
        emerge
        gvimdiff
        gvimdiff2
        opendiff
        p4merge
        vimdiff
        vimdiff2

ابزارهای زیر معتبر هستند، اما در حال حاضر در دسترس نیستند:
        araxis
        bc3
        codecompare
        deltawalker
        diffmerge
        diffuse
        ecmerge
        kdiff3
        meld
        tkdiff
        tortoisemerge
        xxdiff

برخی از ابزارهای ذکر شده در بالا فقط در یک محیط دارای پنجره کار می‌کنند. اگر در یک جلسه فقط ترمینال اجرا شوند، شکست خواهند خورد.</code></pre>
</div>
</div>
<div class="paragraph">
<p>اگر به استفاده از KDiff3 برای تفاوت‌ها علاقه‌مند نیستید، بلکه فقط می‌خواهید از آن برای حل ادغام استفاده کنید و
        دستور kdiff3 در مسیر شما قرار دارد، می‌توانید این دستور را اجرا کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global merge.tool kdiff3</code></pre>
</div>
</div>
<div class="paragraph">
<p>اگر این کار را به جای تنظیم فایل‌های <code>extMerge</code> و <code>extDiff</code> انجام دهید، گیت از KDiff3
        برای حل ادغام و از ابزار diff عادی گیت برای تفاوت‌ها استفاده خواهد کرد.</p>
</div>
</div>
<div class="sect3">
<h3 id="_فرمتبندی_و_فاصلهگذاری">فرمت‌بندی و فاصله‌گذاری</h3>
<div class="paragraph">
<p>
مسائل فرمت‌بندی و فاصله‌گذاری برخی از مشکلات آزاردهنده و ظریف هستند که بسیاری از توسعه‌دهندگان هنگام همکاری با
        آن‌ها مواجه می‌شوند، به ویژه در کارهای چندپلتفرمی.
        بسیار آسان است که وصله‌ها یا سایر کارهای مشترک تغییرات ظریف فاصله‌گذاری را معرفی کنند زیرا ویرایشگرها به طور
        خاموش آن‌ها را وارد می‌کنند، و اگر فایل‌های شما هرگز با یک سیستم ویندوزی تماس پیدا کنند، ممکن است انتهای خط
        آن‌ها جایگزین شود.
        گیت چند گزینه پیکربندی برای کمک به این مسائل دارد.</p>
</div>
<div class="sect4">
<h4 id="_core_autocrlf"><code>core.autocrlf</code></h4>
<div class="paragraph">
<p>
اگر شما بر روی ویندوز برنامه‌نویسی می‌کنید و با افرادی کار می‌کنید که از سیستم‌عامل‌های دیگری استفاده می‌کنند (یا برعکس)، احتمالاً در یک نقطه با مسائل مربوط به انتهای خط (line-ending) مواجه خواهید شد.
این به این دلیل است که ویندوز هم از کاراکتر بازگشت‌به‌کار (carriage-return) و هم از کاراکتر خط‌خوان (linefeed) برای انتهای خط در فایل‌های خود استفاده می‌کند، در حالی که سیستم‌های macOS و Linux تنها از کاراکتر خط‌خوان استفاده می‌کنند.
این یک واقعیت ظریف ولی بسیار آزاردهنده در کارهای چندپلتفرمی است؛ بسیاری از ویرایشگرهای ویندوز به‌طور بی‌صدا انتهای خط‌های LF موجود را با CRLF جایگزین می‌کنند، یا هنگام فشار دادن کلید Enter هر دو کاراکتر انتهای خط را وارد می‌کنند.</p>
</div>
<div class="paragraph">
<p>Git می‌تواند این مشکل را با تبدیل خودکار انتهای خط‌های CRLF به LF هنگام افزودن یک فایل به ایندکس و بالعکس هنگام چک‌اوت کد به سیستم‌فایل شما حل کند.
شما می‌توانید این قابلیت را با تنظیم core.autocrlf فعال کنید.
اگر روی یک ماشین ویندوزی کار می‌کنید، آن را به true تنظیم کنید — این تنظیم انتهای خط‌های LF را به CRLF تبدیل می‌کند زمانی که کد را چک‌اوت می‌کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.autocrlf true</code></pre>
</div>
</div>
<div class="paragraph">
<p>اگر شما بر روی یک سیستم Linux یا macOS کار می‌کنید که از انتهای خط LF استفاده می‌کند، پس نمی‌خواهید Git به‌طور خودکار آن‌ها را هنگام چک‌اوت فایل‌ها تبدیل کند؛ اما اگر یک فایل با انتهای خط CRLF به‌طور تصادفی وارد پروژه شود، ممکن است بخواهید Git آن را اصلاح کند.
شما می‌توانید به Git بگویید که هنگام commit، CRLF را به LF تبدیل کند ولی برعکس آن را انجام ندهد، با تنظیم <code>core.autocrlf</code> به input:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.autocrlf input</code></pre>
</div>
</div>
<div class="paragraph">
<p>این تنظیم باید به شما اجازه دهد که انتهای CRLF را در چک‌اوت‌های ویندوز داشته باشید، اما انتهای LF را در
          سیستم‌های macOS و Linux و در مخزن داشته باشید.</p>
</div>
<div class="paragraph">
<p>اگر شما یک برنامه‌نویس ویندوز هستید که پروژه‌ای فقط برای ویندوز انجام می‌دهید، می‌توانید این قابلیت را خاموش
          کنید و بازگشت‌های کاراکتر را در مخزن با تنظیم مقدار پیکربندی به <code>false</code> ثبت کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.autocrlf false</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h4 id="_core_whitespace"><code>core.whitespace</code></h4>
<div class="paragraph">
<p>گیت به طور پیش‌فرض برای شناسایی و اصلاح برخی از مسائل فاصله‌گذاری تنظیم شده است.
          می‌تواند به دنبال شش مشکل اصلی فاصله‌گذاری باشد — سه مورد به طور پیش‌فرض فعال هستند و می‌توانند خاموش شوند، و
          سه مورد به طور پیش‌فرض غیرفعال هستند اما می‌توانند فعال شوند.</p>
</div>
<div class="paragraph">
<p>سه موردی که به طور پیش‌فرض فعال هستند <code>blank-at-eol</code> است، که به دنبال فضاها در انتهای یک خط
          می‌گردد؛ <code>blank-at-eof</code>، که خطوط خالی در انتهای یک فایل را شناسایی می‌کند؛ و
          <code>space-before-tab</code>، که به دنبال فضاها قبل از تب‌ها در ابتدای یک خط می‌گردد.</p>
</div>
<div class="paragraph">
<p>سه موردی که به طور پیش‌فرض غیرفعال هستند اما می‌توانند فعال شوند <code>indent-with-non-tab</code> است، که به
          دنبال خطوطی می‌گردد که با فضاها به جای تب‌ها شروع می‌شوند (و توسط گزینه <code>tabwidth</code> کنترل می‌شود)؛
          <code>tab-in-indent</code>، که به دنبال تب‌ها در بخش فاصله‌گذاری یک خط می‌گردد؛ و <code>cr-at-eol</code>، که
          به گیت می‌گوید که بازگشت‌های کاراکتر در انتهای خطوط اشکالی ندارد.</p>
</div>
<div class="paragraph">
<p>می‌توانید به گیت بگویید که کدام یک از این‌ها را می‌خواهید با تنظیم <code>core.whitespace</code> به مقادیر
          مورد نظر خود روشن یا خاموش کنید، که با کاما جدا شده‌اند.
          می‌توانید یک گزینه را با پیشوند <code>-</code> در جلوی نام آن غیرفعال کنید، یا با حذف آن از رشته تنظیم به ارزش
          پیش‌فرض برگردید.
          به عنوان مثال، اگر می‌خواهید همه به جز <code>space-before-tab</code> تنظیم شوند، می‌توانید این کار را انجام
          دهید (با <code>trailing-space</code> که به عنوان یک کوتاه‌نویس برای پوشش هر دو <code>blank-at-eol</code> و
          <code>blank-at-eof</code> است):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.whitespace \
    trailing-space,-space-before-tab,indent-with-non-tab,tab-in-indent,cr-at-eol</code></pre>
</div>
</div>
<div class="paragraph">
<p>یا می‌توانید فقط قسمت سفارشی‌سازی را مشخص کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.whitespace \
    -space-before-tab,indent-with-non-tab,tab-in-indent,cr-at-eol</code></pre>
</div>
</div>
<div class="paragraph">
<p>گیت این مسائل را زمانی که دستور <code>git diff</code> را اجرا می‌کنید شناسایی می‌کند و سعی می‌کند آن‌ها را
          رنگ‌آمیزی کند تا بتوانید قبل از کامیت آن‌ها را اصلاح کنید.
          همچنین از این مقادیر برای کمک به شما هنگام اعمال وصله‌ها با <code>git apply</code> استفاده خواهد کرد.
          هنگامی که وصله‌ها را اعمال می‌کنید، می‌توانید از گیت بخواهید که اگر وصله‌هایی با مسائل فاصله‌گذاری مشخص شده را
          اعمال می‌کند، به شما هشدار دهد:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git apply --whitespace=warn &lt;patch&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>یا می‌توانید از گیت بخواهید که قبل از اعمال وصله، سعی کند مشکل را به طور خودکار اصلاح کند:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git apply --whitespace=fix &lt;patch&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>این گزینه‌ها همچنین به دستور <code>git rebase</code> اعمال می‌شوند.
          اگر شما مسائل فاصله‌گذاری را کامیت کرده‌اید اما هنوز به بالا فشار نداده‌اید، می‌توانید دستور <code>git rebase
            --whitespace=fix</code> را اجرا کنید تا گیت به طور خودکار مسائل فاصله‌گذاری را در حین بازنویسی وصله‌ها اصلاح
          کند.</p>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_server_configuration_پیکربندی_سرور">Server Configuration (پیکربندی سرور)</h3>
<div class="paragraph">
<p>تنظیمات پیکربندی کمتری برای سمت سرور Git موجود است، اما چند گزینه جالب وجود دارد که ممکن است بخواهید به آن‌ها توجه کنید.</p>
</div>
<div class="sect4">
<h4 id="_receive_fsckobjects"><code>receive.fsckObjects</code></h4>
<div class="paragraph">
<p>Git قادر است اطمینان حاصل کند که هر شیء دریافتی در طول یک push همچنان با چک‌سام SHA-1 خود مطابقت دارد و به اشیاء معتبر اشاره می‌کند.
با این حال، این کار به‌طور پیش‌فرض انجام نمی‌شود؛ زیرا یک عملیات نسبتاً پرهزینه است و ممکن است باعث کند شدن عملکرد، به‌ویژه در ریپازیتوری‌های بزرگ یا pushهای حجیم شود.
اگر می‌خواهید Git هر بار که push انجام می‌دهید، سازگاری اشیاء را بررسی کند، می‌توانید با تنظیم <code>receive.fsckObjects</code> به true آن را مجبور به انجام این کار کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --system receive.fsckObjects true</code></pre>
</div>
</div>
<div class="paragraph">
<p>اکنون، گیت قبل از پذیرش هر فشار، یکپارچگی مخزن شما را بررسی می‌کند تا مطمئن شود که مشتریان معیوب (یا مخرب)
          داده‌های خراب را معرفی نمی‌کنند.</p>
</div>
</div>
<div class="sect4">
<h4 id="_receive_denynonfastforwards"><code>receive.denyNonFastForwards</code></h4>
<div class="paragraph">
<p>اگر شما کامیت‌هایی را که قبلاً push کرده‌اید rebase کنید و سپس دوباره تلاش کنید تا آن‌ها را push کنید، یا به‌طور کلی تلاش کنید تا یک کامیت را به یک شاخه‌ی ریموتی که شامل کامیتی نیست که شاخه‌ی ریموتی به آن اشاره می‌کند، ارسال کنید، درخواست شما رد خواهد شد.
این معمولاً سیاست خوبی است؛ اما در مورد rebase، ممکن است تشخیص دهید که می‌دانید چه کاری انجام می‌دهید و می‌توانید با استفاده از پرچم -f در دستور push خود، شاخه‌ی ریموتی را مجبور به به‌روزرسانی کنید.</p>
</div>
<div class="paragraph">
<p>برای اینکه به Git بگویید که force-pushها را رد کند، می‌توانید <code>receive.denyNonFastForwards</code> را تنظیم کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --system receive.denyNonFastForwards true</code></pre>
</div>
</div>
<div class="paragraph">
<p>راه دیگری که می‌توانید این کار را انجام دهید، استفاده از hookهای دریافت (receive hooks) سمت سرور است، که در ادامه به آن‌ها خواهیم پرداخت.
این روش به شما امکان انجام کارهای پیچیده‌تری را می‌دهد، مانند رد کردن non-fast-forward ها برای یک زیرمجموعه خاص از کاربران.</p>
</div>
</div>
<div class="sect4">
<h4 id="_receive_denydeletes"><code>receive.denyDeletes</code></h4>
<div class="paragraph">
<p>یکی از راه‌حل‌ها برای دور زدن سیاست <code>denyNonFastForwards</code> این است که کاربر شاخه را حذف کرده و سپس آن را با مرجع جدید دوباره push کند.
برای جلوگیری از این کار، می‌توانید <code>receive.denyDeletes</code> را به true تنظیم کنید:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --system receive.denyDeletes true</code></pre>
</div>
</div>
<div class="paragraph">
<p>این تنظیم هرگونه حذف شاخه‌ها یا تگ‌ها را رد می‌کند — هیچ کاربری قادر به انجام این کار نخواهد بود.
برای حذف شاخه‌های ریموت، باید فایل‌های ref را از سرور به‌طور دستی حذف کنید.
همچنین روش‌های جالب‌تری برای انجام این کار به‌صورت اختصاصی برای هر کاربر از طریق ACLها وجود دارد، همانطور که در <a href="{{< relurl "book/fa/v2/ch00/_an_example_git_enforced_policy" >}}">An Example Git-Enforced Policy (یک مثال از سیاست‌های تحمیلی گیت)</a> خواهید آموخت.</p>
</div>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>