---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-upload-pack Documentation
docname: git-upload-pack
version: 2.45.1
aliases:
- "/docs/git-upload-pack/2.45.1/index.html"
- "/docs/git-upload-pack/2.45.2/index.html"
- "/docs/git-upload-pack/2.45.3/index.html"
- "/docs/git-upload-pack/2.45.4/index.html"
- "/docs/git-upload-pack/2.46.0/index.html"
- "/docs/git-upload-pack/2.46.1/index.html"
- "/docs/git-upload-pack/2.46.2/index.html"
- "/docs/git-upload-pack/2.46.3/index.html"
- "/docs/git-upload-pack/2.46.4/index.html"
- "/docs/git-upload-pack/2.47.0/index.html"
- "/docs/git-upload-pack/2.47.1/index.html"
- "/docs/git-upload-pack/2.47.2/index.html"
- "/docs/git-upload-pack/2.47.3/index.html"
- "/docs/git-upload-pack/2.48.0/index.html"
- "/docs/git-upload-pack/2.48.1/index.html"
- "/docs/git-upload-pack/2.48.2/index.html"
- "/docs/git-upload-pack/2.49.0/index.html"
- "/docs/git-upload-pack/2.49.1/index.html"
- "/docs/git-upload-pack/2.50.0/index.html"
- "/docs/git-upload-pack/2.50.1/index.html"
---
<div class="sect1">
<h2 id="_name"><a class="anchor" href="#_name"></a>NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-upload-pack - Send objects packed back to git-fetch-pack</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis"><a class="anchor" href="#_synopsis"></a>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git-upload-pack</em> [--[no-]strict] [--timeout=&lt;n&gt;] [--stateless-rpc]
		  [--advertise-refs] &lt;directory&gt;</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description"><a class="anchor" href="#_description"></a>DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Invoked by <em>git fetch-pack</em>, learns what
objects the other side is missing, and sends them after packing.</p>
</div>
<div class="paragraph">
<p>This command is usually not invoked directly by the end user.
The UI for the protocol is on the <em>git fetch-pack</em> side, and the
program pair is meant to be used to pull updates from a remote
repository.  For push operations, see <em>git send-pack</em>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options"><a class="anchor" href="#_options"></a>OPTIONS</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/git-upload-pack.txt---no-strict"><a class="anchor" href="#Documentation/git-upload-pack.txt---no-strict"></a>--[no-]strict </dt>
<dd>
<p>Do not try &lt;directory&gt;/.git/ if &lt;directory&gt; is not a Git directory.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-upload-pack.txt---timeoutltngt"><a id="Documentation/git-upload-pack.txt---timeoutn" class="anchor" href="#Documentation/git-upload-pack.txt---timeoutn"></a>--timeout=&lt;n&gt; </dt>
<dd>
<p>Interrupt transfer after &lt;n&gt; seconds of inactivity.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-upload-pack.txt---stateless-rpc"><a class="anchor" href="#Documentation/git-upload-pack.txt---stateless-rpc"></a>--stateless-rpc </dt>
<dd>
<p>Perform only a single read-write cycle with stdin and stdout.
This fits with the HTTP POST request processing model where
a program may read the request, write a response, and must exit.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-upload-pack.txt---http-backend-info-refs"><a class="anchor" href="#Documentation/git-upload-pack.txt---http-backend-info-refs"></a>--http-backend-info-refs </dt>
<dd>
<p>Used by <a href='{{< relurl "docs/git-http-backend" >}}'>git-http-backend[1]</a> to serve up
<span class='synopsis'><em>$GIT_URL/info/refs?service=git-upload-pack</em></span> requests. See
"Smart Clients" in <a href='{{< relurl "docs/gitprotocol-http" >}}'>gitprotocol-http[5]</a> and "HTTP
Transport" in the <a href='{{< relurl "docs/gitprotocol-v2" >}}'>gitprotocol-v2[5]</a>
documentation. Also understood by
<a href='{{< relurl "docs/git-receive-pack" >}}'>git-receive-pack[1]</a>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-upload-pack.txt-ltdirectorygt"><a id="Documentation/git-upload-pack.txt-directory" class="anchor" href="#Documentation/git-upload-pack.txt-directory"></a>&lt;directory&gt; </dt>
<dd>
<p>The repository to sync from.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_environment"><a class="anchor" href="#_environment"></a>ENVIRONMENT</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/git-upload-pack.txt-spanclasssynopsiscodeGITPROTOCOLcodespan"><a id="Documentation/git-upload-pack.txt-GITPROTOCOL" class="anchor" href="#Documentation/git-upload-pack.txt-GITPROTOCOL"></a><span class='synopsis'><code>GIT_PROTOCOL</code></span> </dt>
<dd>
<p>Internal variable used for handshaking the wire protocol. Server
admins may need to configure some transports to allow this
variable to be passed. See the discussion in <a href='{{< relurl "docs/git" >}}'>git[1]</a>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-upload-pack.txt-spanclasssynopsiscodeGITNOLAZYFETCHcodespan"><a id="Documentation/git-upload-pack.txt-GITNOLAZYFETCH" class="anchor" href="#Documentation/git-upload-pack.txt-GITNOLAZYFETCH"></a><span class='synopsis'><code>GIT_NO_LAZY_FETCH</code></span> </dt>
<dd>
<p>When cloning or fetching from a partial repository (i.e., one
itself cloned with <span class='synopsis'><code>--filter</code></span>), the server-side <span class='synopsis'><code>upload-pack</code></span>
may need to fetch extra objects from its upstream in order to
complete the request. By default, <span class='synopsis'><code>upload-pack</code></span> will refuse to
perform such a lazy fetch, because <span class='synopsis'><code>git</code> <code>fetch</code></span> may run arbitrary
commands specified in configuration and hooks of the source
repository (and <span class='synopsis'><code>upload-pack</code></span> tries to be safe to run even in
untrusted <span class='synopsis'><code>.git</code></span> directories).</p>
<div class="paragraph">
<p>This is implemented by having <span class='synopsis'><code>upload-pack</code></span> internally set the
<span class='synopsis'><code>GIT_NO_LAZY_FETCH</code></span> variable to <span class='synopsis'><code>1</code></span>. If you want to override it
(because you are fetching from a partial clone, and you are sure
you trust it), you can explicitly set <span class='synopsis'><code>GIT_NO_LAZY_FETCH</code></span> to
<span class='synopsis'><code>0</code></span>.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_security"><a class="anchor" href="#_security"></a>SECURITY</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most Git commands should not be run in an untrusted <span class='synopsis'><code>.git</code></span> directory
(see the section <span class='synopsis'><code>SECURITY</code></span> in <a href='{{< relurl "docs/git" >}}'>git[1]</a>). <span class='synopsis'><code>upload-pack</code></span> tries to
avoid any dangerous configuration options or hooks from the repository
it&#8217;s serving, making it safe to clone an untrusted directory and run
commands on the resulting clone.</p>
</div>
<div class="paragraph">
<p>For an extra level of safety, you may be able to run <span class='synopsis'><code>upload-pack</code></span> as an
alternate user. The details will be platform dependent, but on many
systems you can run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git clone --no-local --upload-pack='sudo -u nobody git-upload-pack' ...</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also"><a class="anchor" href="#_see_also"></a>SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href='{{< relurl "docs/gitnamespaces" >}}'>gitnamespaces[7]</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Part of the <a href='{{< relurl "docs/git" >}}'>git[1]</a> suite</p>
</div>
</div>
</div>