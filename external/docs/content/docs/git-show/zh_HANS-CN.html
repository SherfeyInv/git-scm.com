---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-show Documentation
docname: git-show
lang: zh_HANS-CN
aliases:
- "/docs/git-show/zh_HANS-CN/index.html"
---
<div class="sect1">
<h2 id="_名称"><a class="anchor" href="#_名称"></a>名称</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-show - 显示各种类型的对象</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_概述"><a class="anchor" href="#_概述"></a>概述</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git show</em> [&lt;选项&gt;] [&lt;对象&gt;&#8230;&#8203;]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_描述"><a class="anchor" href="#_描述"></a>描述</h2>
<div class="sectionbody">
<div class="paragraph">
<p>显示一个或多个对象（Blobs、树、标签和提交）。</p>
</div>
<div class="paragraph">
<p>对于提交，它显示日志信息和文本差异。并会以一种特殊的格式显示合并提交，就像 <em>git diff-tree --cc</em> 所产生的信息那样。</p>
</div>
<div class="paragraph">
<p>对于标签，它显示标签信息和引用的对象。</p>
</div>
<div class="paragraph">
<p>对于目录树，它显示名字（相当于 <em>git ls-tree</em> 添加了 --name-only 选项）。</p>
</div>
<div class="paragraph">
<p>对于普通二进制对象，它显示普通内容。</p>
</div>
<div class="paragraph">
<p><em>git log</em> 命令理解的一些选项可以用来控制如何显示提交带来的改动。</p>
</div>
<div class="paragraph">
<p>本手册页只描述了最常用的选项。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_选项"><a class="anchor" href="#_选项"></a>选项</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-show-ltgt82308203"> <a class="anchor" href="#git-show-ltgt82308203"></a>&lt;对象&gt;&#8230;&#8203; </dt>
<dd>
<p>要显示的对象的名称（默认为&#8217;HEAD'）。 更完整的对象名称拼写方式列表，请参见 <a href='{{< relurl "docs/gitrevisions/zh_HANS-CN" >}}'>gitrevisions[7]</a> 中的 "特别修订" 部分。</p>
</dd>
<dt class="hdlist1" id="git-show---prettyltgt"> <a class="anchor" href="#git-show---prettyltgt"></a>--pretty[=&lt;格式&gt;] </dt>
<dt class="hdlist1" id="git-show---formatltgt"> <a class="anchor" href="#git-show---formatltgt"></a>--format=&lt;格式&gt; </dt>
<dd>
<p>以指定的格式打印提交日志的内容，其中'&lt;format&gt;'可以是&#8217;oneline'、<em>short</em>、<em>medium</em>、<em>full</em>、<em>fuller</em>、<em>reference</em>、<em>email</em>、<em>raw</em>、<em>format:&lt;string&gt;'和&#8217;tformat:&lt;string&gt;'之一。 当</em>&lt;format&gt;'不是上述任何一种，并且其中有'%placeholder&#8217;时，它的作用就像给出'--pretty=tformat:&lt;format&gt;'一样。</p>
<div class="paragraph">
<p>参见 "PRETTY FORMATS "部分，了解每种格式的一些额外细节。 当'=&lt;格式&gt;'部分被省略时，它默认为&#8217;中等'。</p>
</div>
<div class="paragraph">
<p>注意：你可以在版本库配置中指定默认的漂亮格式（见<a href='{{< relurl "docs/git-config/zh_HANS-CN" >}}'>git-config[1]</a>）。</p>
</div>
</dd>
<dt class="hdlist1" id="git-show---abbrev-commit"> <a class="anchor" href="#git-show---abbrev-commit"></a>--abbrev-commit </dt>
<dd>
<p>不要显示完整的40字节的十六进制提交对象名称，而是显示一个前缀，以唯一的方式命名该对象。 "--abbrev=&lt;n&gt;"选项可以用来指定前缀的最小长度（如果显示的话，它也会修改diff输出）。</p>
<div class="paragraph">
<p>这应该使"--pretty=oneline "对于使用80列终端的人来说更容易阅读。</p>
</div>
</dd>
<dt class="hdlist1" id="git-show---no-abbrev-commit"> <a class="anchor" href="#git-show---no-abbrev-commit"></a>--no-abbrev-commit </dt>
<dd>
<p>显示完整的40字节十六进制的提交对象名称。这否定了`--abbrev-commit`，无论是明确的还是由其他选项如"--oneline "暗示的。它还覆盖了`log.abbrevCommit`变量。</p>
</dd>
<dt class="hdlist1" id="git-show---oneline"> <a class="anchor" href="#git-show---oneline"></a>--oneline </dt>
<dd>
<p>这是"--pretty=oneline --abbrev-commit "的简写，一起使用。</p>
</dd>
<dt class="hdlist1" id="git-show---encodingltgt"> <a class="anchor" href="#git-show---encodingltgt"></a>--encoding=&lt;编码&gt; </dt>
<dd>
<p>提交对象会在其编码头中记录日志信息使用的字符编码；该选项可用于告诉命令以用户偏好的编码重新编码提交日志信息。 对于非底层命令，默认编码为 UTF-8。需要注意的是，如果对象声称以 <code>X</code> 编码，而我们以 <code>X</code> 输出，我们将逐字输出该对象；这意味着原始提交中的无效序列可能会被复制到输出中。同样，如果 iconv(3) 无法转换提交，我们也会静静地逐字输出原始对象。</p>
</dd>
<dt class="hdlist1" id="git-show---expand-tabsltngt"> <a class="anchor" href="#git-show---expand-tabsltngt"></a>--expand-tabs=&lt;n&gt; </dt>
<dt class="hdlist1" id="git-show---expand-tabs"> <a class="anchor" href="#git-show---expand-tabs"></a>--expand-tabs </dt>
<dt class="hdlist1" id="git-show---no-expand-tabs"> <a class="anchor" href="#git-show---no-expand-tabs"></a>--no-expand-tabs </dt>
<dd>
<p>在输出中显示之前，在日志信息中进行标签扩展（用足够的空格替换每个标签，以填充到下一个显示列的 <em>&lt;n&gt;</em> 的倍数）。 <code>--expand-tabs</code> 是 <code>--expand-tabs=8</code> 的简写，<code>--no-expand-tabs</code> 是 <code>--expand-tabs=0</code> 的简写，它禁止标签扩展。</p>
<div class="paragraph">
<p>默认情况下，标签会以漂亮的格式展开，将日志信息缩进4个空格（即 "中"，这是默认的，"全"，和 "更全"）。</p>
</div>
</dd>
<dt class="hdlist1" id="git-show---notesltgt"> <a class="anchor" href="#git-show---notesltgt"></a>--notes[=&lt;引用&gt;] </dt>
<dd>
<p>在显示提交日志信息时，显示注释提交的说明（见<a href='{{< relurl "docs/git-notes/zh_HANS-CN" >}}'>git-notes[1]</a>）。 这是`git log`、<code>git show`和`git whatchanged`命令的默认设置，当命令行中没有给出</code>--pretty`、<code>--format`或</code>--oneline`选项时。</p>
<div class="paragraph">
<p>默认情况下，显示的注释来自于`core.notesRef`和`notes.displayRef`变量（或相应的环境覆盖）中列出的注释参考。更多细节见<a href='{{< relurl "docs/git-config/zh_HANS-CN" >}}'>git-config[1]</a>。</p>
</div>
<div class="paragraph">
<p>有了一个可选的 <em>&lt;引用&gt;</em> 参数，就可以使用引用来寻找要显示的笔记。 当引用以 <code>refs/notes/</code> 开头时，可以指定完整的引用名称；当它以 <code>notes/</code> 开头时， <code>refs/</code> ，否则 <code>refs/notes/</code> 前缀，形成引用的全名。</p>
</div>
<div class="paragraph">
<p>多个&#8212;&#8203;音符选项可以组合起来，控制哪些音符被显示。例如。"--notes=foo "将只显示来自 "refs/notes/foo "的注释；"--notes=foo --notes "将同时显示来自 "refs/notes/foo "和默认注释的注释。</p>
</div>
</dd>
<dt class="hdlist1" id="git-show---no-notes"> <a class="anchor" href="#git-show---no-notes"></a>--no-notes </dt>
<dd>
<p>不显示注释。这否定了上面的`--notes`选项，因为它重新设置了显示注释的注释列表。 选项按照命令行给出的顺序进行解析，因此，例如"--notes --notes=foo --no-notes --notes=bar "将只显示来自 "refs/notes/bar "的注释。</p>
</dd>
<dt class="hdlist1" id="git-show---show-notes-by-default"> <a class="anchor" href="#git-show---show-notes-by-default"></a>--show-notes-by-default </dt>
<dd>
<p>显示默认备注，除非给出了显示特定备注的选项。</p>
</dd>
<dt class="hdlist1" id="git-show---show-notesltgt"> <a class="anchor" href="#git-show---show-notesltgt"></a>--show-notes[=&lt;引用&gt;] </dt>
<dt class="hdlist1" id="git-show---no-standard-notes"> <a class="anchor" href="#git-show---no-standard-notes"></a>--[no-]standard-notes </dt>
<dd>
<p>这些选项已被废弃。请使用上面的 --notes/--no-notes 选项来代替。</p>
</dd>
<dt class="hdlist1" id="git-show---show-signature"> <a class="anchor" href="#git-show---show-signature"></a>--show-signature </dt>
<dd>
<p>通过将签名传递给 <code>gpg --verify</code> 来检查已签名的提交对象的有效性，并显示输出。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_漂亮的格式"><a class="anchor" href="#_漂亮的格式"></a>漂亮的格式</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果提交是一个合并，并且如果pretty-format不是 "oneline"、"email "或 "raw"，那么在 "Author: "一行之前会插入一个附加行。 这一行的开头是 "Merge:这一行以 "Merge: "开头，并打印出祖先提交的哈希值，用空格分隔。 请注意，如果你限制了你的历史视图，那么列出的提交不一定是*直接*父级提交的列表：例如，如果你只对与某个目录或文件有关的修改感兴趣。</p>
</div>
<div class="paragraph">
<p>有几种内置的格式，你可以通过将 pretty.&lt;名称&gt; 配置选项设置为另一种格式名称或 <em>format:</em> 字符串来定义额外的格式，如下所述（见 <a href='{{< relurl "docs/git-config/zh_HANS-CN" >}}'>git-config[1]</a> ）。下面是内置格式的细节：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>oneline</em></p>
<div class="literalblock">
<div class="content">
<pre>&lt;哈希值&gt; &lt;标题行&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>这个设计是为了尽可能的紧凑。</p>
</div>
</li>
<li>
<p><em>short</em></p>
<div class="literalblock">
<div class="content">
<pre>承诺&lt;hash&gt;
作者。&lt;作者&gt;的情况</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;标题行&gt;</pre>
</div>
</div>
</li>
<li>
<p><em>medium</em></p>
<div class="literalblock">
<div class="content">
<pre>commit &lt;哈希值&gt;
Author: &lt;作者&gt;
Date:   &lt;提交日期&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;标题行&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;完整的提交信息</pre>
</div>
</div>
</li>
<li>
<p><em>full</em></p>
<div class="literalblock">
<div class="content">
<pre>承诺&lt;hash&gt;
作者。&lt; Author&gt;
承诺。&lt;committer&gt;（提交者）。</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;标题行&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;完整的提交信息</pre>
</div>
</div>
</li>
<li>
<p><em>fuller</em></p>
<div class="literalblock">
<div class="content">
<pre>commit &lt;哈希值&gt;
Author:     &lt;作者&gt;
AuthorDate: &lt;作者提交日期&gt;
Commit:     &lt;提交者&gt;
CommitDate: &lt;提交者提交日期&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;标题行&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;完整的提交信息</pre>
</div>
</div>
</li>
<li>
<p>‘引用’</p>
<div class="literalblock">
<div class="content">
<pre>&lt;缩写哈希值&gt;（&lt;标题行&gt;，&lt;简短的作者日期&gt;）</pre>
</div>
</div>
<div class="paragraph">
<p>这种格式用于在提交信息中引用另一个提交，与`--pretty='format:%C(auto)%h (%s, %ad)'相同。 默认情况下，日期的格式为`--date=short`，除非明确指定其他`--date`选项。 与任何带有格式占位符的`format:<code>一样，其输出不受其他选项的影响，如</code>--decorate`和`--walk-reflogs`。</p>
</div>
</li>
<li>
<p><em>email</em></p>
<div class="literalblock">
<div class="content">
<pre>From &lt;哈希&gt; &lt;日期&gt;
From: &lt;作者&gt;
Date: &lt;作者提交日期&gt;
Subject: [PATCH] &lt;标题行&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;完整的提交信息</pre>
</div>
</div>
</li>
<li>
<p><em>mboxrd</em></p>
<div class="paragraph">
<p>和 "email "一样，但提交信息中以 "From "开头的行（前面有零个或多个"&gt;"）用"&gt;"引出，这样就不会被混淆为开始了一个新的提交。</p>
</div>
</li>
<li>
<p><em>raw</em></p>
<div class="paragraph">
<p>原始 "格式显示的是整个提交对象中存储的内容。 值得注意的是，无论是否使用了 --abbrev 或 --no-abbrev，哈希值都会被完整地显示出来，而&#8217;parent&#8217;信息会显示真正的父级提交，不会考虑移花接木或历史简化。注意，这种格式会影响提交的显示方式，但不会影响diff的显示方式，比如用`git log --raw`来显示。要获得原始差异格式的完整对象名称，请使用`--no-abbrev`。</p>
</div>
</li>
<li>
<p><em>format:&lt;格式字符串&gt;</em></p>
<div class="paragraph">
<p><em>format:&lt;格式字符串</em> 格式允许你指定要显示的信息。它的工作原理有点像 printf 格式，但有一个明显的例外，那就是换行符是 <em>%n</em> 而不是 <em>\n</em>。</p>
</div>
<div class="paragraph">
<p>例如，<em>format: "The author of %h was %an, %ar%nThe title was &gt;&gt;%s&lt;&lt;%n"</em> 会显示这样的内容：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>fe6e0ee的作者是Junio C Hamano, 23小时前
标题是 &gt;&gt;t4119: 测试传统diff输入的自动计算-p&lt;n&gt;。</pre>
</div>
</div>
<div class="paragraph">
<p>占位符是：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>占位符，可扩展为一个字面字符：</p>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-show-emnem"> <a class="anchor" href="#git-show-emnem"></a><em>%n</em> </dt>
<dd>
<p>换行</p>
</dd>
<dt class="hdlist1" id="git-show-emem"> <a class="anchor" href="#git-show-emem"></a><em>%%</em> </dt>
<dd>
<p>一个原始的'%'</p>
</dd>
<dt class="hdlist1" id="git-show-emx00em"> <a class="anchor" href="#git-show-emx00em"></a><em>%x00</em> </dt>
<dd>
<p><em>%x</em> 后跟两个十六进制数字，会被一个包含十六进制数字值的字节替换（在本文档的其余部分，我们称之为 “字面格式化代码”）。</p>
</dd>
</dl>
</div>
</li>
<li>
<p>影响后面占位符的格式化的占位符：</p>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-show-emCredem"> <a class="anchor" href="#git-show-emCredem"></a><em>%Cred</em> </dt>
<dd>
<p>切换颜色为红色</p>
</dd>
<dt class="hdlist1" id="git-show-emCgreenem"> <a class="anchor" href="#git-show-emCgreenem"></a><em>%Cgreen</em> </dt>
<dd>
<p>切换颜色为绿色</p>
</dd>
<dt class="hdlist1" id="git-show-emCblueem"> <a class="anchor" href="#git-show-emCblueem"></a><em>%Cblue</em> </dt>
<dd>
<p>将颜色改为蓝色</p>
</dd>
<dt class="hdlist1" id="git-show-emCresetem"> <a class="anchor" href="#git-show-emCresetem"></a><em>%Creset</em> </dt>
<dd>
<p>重置颜色</p>
</dd>
<dt class="hdlist1" id="git-show-emC82308203em"> <a class="anchor" href="#git-show-emC82308203em"></a><em>%C(&#8230;&#8203;)</em> </dt>
<dd>
<p>颜色规范，如<a href='{{< relurl "docs/git-config/zh_HANS-CN" >}}'>git-config[1]</a>的 "配置文件 "部分中的数值描述。 默认情况下，只有在启用日志输出时才会显示颜色（通过 <code>color.diff</code>, <code>color.ui</code>, 或 <code>--color</code>, 如果我们要去终端，要尊重前者的`auto`设置）。<code>%C(auto,...)`被接受为默认的历史同义词（例如，</code>%C(auto,red)<code>）。指定</code>%C(always,&#8230;&#8203;)<code>将显示颜色，即使没有启用颜色（尽管考虑使用</code>--color=always`来启用整个输出的颜色，包括这个格式和其他任何git可能的颜色）。 <code>auto`单独使用（即</code>%C(auto)`）将在下一个占位符上开启自动着色，直到再次切换颜色。</p>
</dd>
<dt class="hdlist1" id="git-show-emmem"> <a class="anchor" href="#git-show-emmem"></a><em>%m</em> </dt>
<dd>
<p>左（<code>&lt;</code>）、右（<code>&gt;</code>）或边界（<code>-</code>）标记</p>
</dd>
<dt class="hdlist1" id="git-show-emwltwgtlti1gtlti2gtem"> <a class="anchor" href="#git-show-emwltwgtlti1gtlti2gtem"></a><em>%w([&lt;w&gt;[,&lt;i1&gt;[,&lt;i2&gt;]]])</em> </dt>
<dd>
<p>开关包行，就像 <a href='{{< relurl "docs/git-shortlog/zh_HANS-CN" >}}'>git-shortlog[1]</a> 的 -w 选项。</p>
</dd>
<dt class="hdlist1" id="git-show-emltltNgttruncltruncmtruncem"> <a class="anchor" href="#git-show-emltltNgttruncltruncmtruncem"></a><em>%&lt;(&lt;N&gt;[,trunc|ltrunc|mtrunc])</em> </dt>
<dd>
<p>使下一个占位符至少占用 N 列宽，必要时在右侧填充空格。 如果输出超过 N 列，可选择在左侧（ltrunc）<code>..ft</code>、中间（mtrunc）<code>mi..le</code> 或末尾（trunc）<code>rig..</code> 截断（用省略号 <em>..</em> ）。 注意 1：截断只在 N &gt;= 2 时有效。 注 2：N 和 M（见下文）值周围的空格为可选项。 注 3：表情符号和其他宽字符将占用两个显示列，可能会超出列边界。 注 4：分解字符组合标记可能会在填充边界处错位。</p>
</dd>
<dt class="hdlist1" id="git-show-emltltMgtem"> <a class="anchor" href="#git-show-emltltMgtem"></a><em>%&lt;|(&lt;M&gt;)</em> </dt>
<dd>
<p>使下一个占位符至少显示到第 M 列，必要时在右侧填充空格。 从终端窗口右侧边缘测量的列位置使用负 M 值。</p>
</dd>
<dt class="hdlist1" id="git-show-emgtltNgtememgtltMgtem"> <a class="anchor" href="#git-show-emgtltNgtememgtltMgtem"></a><em>%&gt;(&lt;N&gt;)</em>, <em>%&gt;|(&lt;M&gt;)</em> </dt>
<dd>
<p>分别类似于 <em>%&lt;( &lt;N&gt; )</em> 、<em>%&lt;|( &lt;M&gt; )</em>，但在左侧填充空格</p>
</dd>
<dt class="hdlist1" id="git-show-emgtgtltNgtememgtgtltMgtem"> <a class="anchor" href="#git-show-emgtgtltNgtememgtgtltMgtem"></a><em>%&gt;&gt;(&lt;N&gt;)</em>, <em>%&gt;&gt;|(&lt;M&gt;)</em> </dt>
<dd>
<p>分别类似于'%&gt;(&lt;N&gt;)<em>、</em>%&gt;|(&lt;M&gt;)'，只是如果下一个占位符占用的空间比给定的多，并且其左侧有空格，则使用这些空格</p>
</dd>
<dt class="hdlist1" id="git-show-emgtltltNgtememgtltltMgtem"> <a class="anchor" href="#git-show-emgtltltNgtememgtltltMgtem"></a><em>%&gt;&lt;(&lt;N&gt;)</em>, <em>%&gt;&lt;|(&lt;M&gt;)</em> </dt>
<dd>
<p>分别类似于'%&lt;( &lt;N&gt; )' 和 <em>%&lt;|( &lt;M&gt; )</em>，但两边都有填充（即文本居中）</p>
</dd>
</dl>
</div>
</li>
<li>
<p>占位符，扩展到从提交中提取的信息：</p>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-show-emHem"> <a class="anchor" href="#git-show-emHem"></a><em>%H</em> </dt>
<dd>
<p>提交的哈希值</p>
</dd>
<dt class="hdlist1" id="git-show-emhem"> <a class="anchor" href="#git-show-emhem"></a><em>%h</em> </dt>
<dd>
<p>简称提交哈希</p>
</dd>
<dt class="hdlist1" id="git-show-emTem"> <a class="anchor" href="#git-show-emTem"></a><em>%T</em> </dt>
<dd>
<p>目录树哈希值</p>
</dd>
<dt class="hdlist1" id="git-show-emtem"> <a class="anchor" href="#git-show-emtem"></a><em>%t</em> </dt>
<dd>
<p>简称树形哈希</p>
</dd>
<dt class="hdlist1" id="git-show-emPem"> <a class="anchor" href="#git-show-emPem"></a><em>%P</em> </dt>
<dd>
<p>父类哈希值</p>
</dd>
<dt class="hdlist1" id="git-show-empem"> <a class="anchor" href="#git-show-empem"></a><em>%p</em> </dt>
<dd>
<p>缩写的父母哈希值</p>
</dd>
<dt class="hdlist1" id="git-show-emanem"> <a class="anchor" href="#git-show-emanem"></a><em>%an</em> </dt>
<dd>
<p>作者名</p>
</dd>
<dt class="hdlist1" id="git-show-emaNem"> <a class="anchor" href="#git-show-emaNem"></a><em>%aN</em> </dt>
<dd>
<p>作者名（关于 .mailmap，请参见 <a href='{{< relurl "docs/git-shortlog/zh_HANS-CN" >}}'>git-shortlog[1]</a> 或 <a href='{{< relurl "docs/git-blame/zh_HANS-CN" >}}'>git-blame[1]</a></p>
</dd>
<dt class="hdlist1" id="git-show-emaeem"> <a class="anchor" href="#git-show-emaeem"></a><em>%ae</em> </dt>
<dd>
<p>作者电子邮箱</p>
</dd>
<dt class="hdlist1" id="git-show-emaEem"> <a class="anchor" href="#git-show-emaEem"></a><em>%aE</em> </dt>
<dd>
<p>作者电子邮件（关于 .mailmap，请参见 <a href='{{< relurl "docs/git-shortlog/zh_HANS-CN" >}}'>git-shortlog[1]</a> 或 <a href='{{< relurl "docs/git-blame/zh_HANS-CN" >}}'>git-blame[1]</a></p>
</dd>
<dt class="hdlist1" id="git-show-emalem"> <a class="anchor" href="#git-show-emalem"></a><em>%al</em> </dt>
<dd>
<p>作者电子邮件的本地部分（<em>@</em> 符号之前的部分）</p>
</dd>
<dt class="hdlist1" id="git-show-emaLem"> <a class="anchor" href="#git-show-emaLem"></a><em>%aL</em> </dt>
<dd>
<p>尊重 .mailmap 作者的本地部分（参见 <em>%al</em> ），参见 <a href='{{< relurl "docs/git-shortlog/zh_HANS-CN" >}}'>git-shortlog[1]</a> 或 <a href='{{< relurl "docs/git-blame/zh_HANS-CN" >}}'>git-blame[1]</a>)</p>
</dd>
<dt class="hdlist1" id="git-show-emadem"> <a class="anchor" href="#git-show-emadem"></a><em>%ad</em> </dt>
<dd>
<p>作者日期（格式尊重&#8212;&#8203;date=选项</p>
</dd>
<dt class="hdlist1" id="git-show-emaDem"> <a class="anchor" href="#git-show-emaDem"></a><em>%aD</em> </dt>
<dd>
<p>作者日期，RFC2822风格</p>
</dd>
<dt class="hdlist1" id="git-show-emarem"> <a class="anchor" href="#git-show-emarem"></a><em>%ar</em> </dt>
<dd>
<p>作者日期，相对</p>
</dd>
<dt class="hdlist1" id="git-show-ematem"> <a class="anchor" href="#git-show-ematem"></a><em>%at</em> </dt>
<dd>
<p>作者日期，UNIX时间戳</p>
</dd>
<dt class="hdlist1" id="git-show-emaiem"> <a class="anchor" href="#git-show-emaiem"></a><em>%ai</em> </dt>
<dd>
<p>作者日期，类似ISO 8601的格式</p>
</dd>
<dt class="hdlist1" id="git-show-emaIem"> <a class="anchor" href="#git-show-emaIem"></a><em>%aI</em> </dt>
<dd>
<p>作者日期，严格的ISO 8601格式</p>
</dd>
<dt class="hdlist1" id="git-show-emasem"> <a class="anchor" href="#git-show-emasem"></a><em>%as</em> </dt>
<dd>
<p>作者日期，短格式（ <code>YYYY-MM-DD</code> ）</p>
</dd>
<dt class="hdlist1" id="git-show-emahem"> <a class="anchor" href="#git-show-emahem"></a><em>%ah</em> </dt>
<dd>
<p>作者日期，以易读形式呈现（就像 <a href='{{< relurl "docs/git-rev-list/zh_HANS-CN" >}}'>git-rev-list[1]</a> 的 <code>--date=human</code> 选项）</p>
</dd>
<dt class="hdlist1" id="git-show-emcnem"> <a class="anchor" href="#git-show-emcnem"></a><em>%cn</em> </dt>
<dd>
<p>提交者名称</p>
</dd>
<dt class="hdlist1" id="git-show-emcNem"> <a class="anchor" href="#git-show-emcNem"></a><em>%cN</em> </dt>
<dd>
<p>提交者名称（尊重 .mailmap，参见 <a href='{{< relurl "docs/git-shortlog/zh_HANS-CN" >}}'>git-shortlog[1]</a> 或 <a href='{{< relurl "docs/git-blame/zh_HANS-CN" >}}'>git-blame[1]</a></p>
</dd>
<dt class="hdlist1" id="git-show-emceem"> <a class="anchor" href="#git-show-emceem"></a><em>%ce</em> </dt>
<dd>
<p>提交者电子邮箱</p>
</dd>
<dt class="hdlist1" id="git-show-emcEem"> <a class="anchor" href="#git-show-emcEem"></a><em>%cE</em> </dt>
<dd>
<p>提交者电子邮箱（尊重 .mailmap，参见 <a href='{{< relurl "docs/git-shortlog/zh_HANS-CN" >}}'>git-shortlog[1]</a> 或 <a href='{{< relurl "docs/git-blame/zh_HANS-CN" >}}'>git-blame[1]</a></p>
</dd>
<dt class="hdlist1" id="git-show-emclem"> <a class="anchor" href="#git-show-emclem"></a><em>%cl</em> </dt>
<dd>
<p>提交者电子邮件的本地部分（<em>@</em> 符号之前的部分）</p>
</dd>
<dt class="hdlist1" id="git-show-emcLem"> <a class="anchor" href="#git-show-emcLem"></a><em>%cL</em> </dt>
<dd>
<p>提交者本地部分（参见'%cl' ）尊重 .mailmap, 参见 <a href='{{< relurl "docs/git-shortlog/zh_HANS-CN" >}}'>git-shortlog[1]</a> 或 <a href='{{< relurl "docs/git-blame/zh_HANS-CN" >}}'>git-blame[1]</a>)</p>
</dd>
<dt class="hdlist1" id="git-show-emcdem"> <a class="anchor" href="#git-show-emcdem"></a><em>%cd</em> </dt>
<dd>
<p>承诺人日期（格式尊重&#8212;&#8203;date=选项</p>
</dd>
<dt class="hdlist1" id="git-show-emcDem"> <a class="anchor" href="#git-show-emcDem"></a><em>%cD</em> </dt>
<dd>
<p>承诺人日期，RFC2822风格</p>
</dd>
<dt class="hdlist1" id="git-show-emcrem"> <a class="anchor" href="#git-show-emcrem"></a><em>%cr</em> </dt>
<dd>
<p>承诺人日期，相对</p>
</dd>
<dt class="hdlist1" id="git-show-emctem"> <a class="anchor" href="#git-show-emctem"></a><em>%ct</em> </dt>
<dd>
<p>提交者日期，UNIX时间戳</p>
</dd>
<dt class="hdlist1" id="git-show-emciem"> <a class="anchor" href="#git-show-emciem"></a><em>%ci</em> </dt>
<dd>
<p>承诺人日期，类似ISO 8601的格式</p>
</dd>
<dt class="hdlist1" id="git-show-emcIem"> <a class="anchor" href="#git-show-emcIem"></a><em>%cI</em> </dt>
<dd>
<p>承诺人日期，严格的ISO 8601格式</p>
</dd>
<dt class="hdlist1" id="git-show-emcsem"> <a class="anchor" href="#git-show-emcsem"></a><em>%cs</em> </dt>
<dd>
<p>承诺人日期，短格式（ <code>YYYY-MM-DD</code> ）</p>
</dd>
<dt class="hdlist1" id="git-show-emchem"> <a class="anchor" href="#git-show-emchem"></a><em>%ch</em> </dt>
<dd>
<p>提交者的日期，人类风格（就像 <a href='{{< relurl "docs/git-rev-list/zh_HANS-CN" >}}'>git-rev-list[1]</a> 的 <code>--date=human</code> 选项）</p>
</dd>
<dt class="hdlist1" id="git-show-emdem"> <a class="anchor" href="#git-show-emdem"></a><em>%d</em> </dt>
<dd>
<p>ref名称，就像<a href='{{< relurl "docs/git-log/zh_HANS-CN" >}}'>git-log[1]</a>的&#8212;&#8203;decorate选项。</p>
</dd>
<dt class="hdlist1" id="git-show-emDem"> <a class="anchor" href="#git-show-emDem"></a><em>%D</em> </dt>
<dd>
<p>没有"（"、"）"包装的参考文献名称。</p>
</dd>
<dt class="hdlist1" id="git-show-emdecorateltgtem"> <a class="anchor" href="#git-show-emdecorateltgtem"></a><em>%(decorate[:&lt;选项&gt;])</em> </dt>
<dd>
<p>自定义装饰的引用名称。<code>decorate</code> 字符串后面可以是冒号和零个或多个以逗号分隔的选项。选项值可能包含字面格式化代码。由于逗号（<code>%x2C</code>）和结尾括号（<code>%x29</code>）在选项语法中的作用，因此必须使用这些代码。</p>
<div class="ulist">
<ul>
<li>
<p><em>prefix=&lt;值&gt;</em>： 显示在引用名称列表之前。 默认为 "&#160;<code>(</code>"。</p>
</li>
<li>
<p><em>suffix=&lt;值&gt;</em>： 显示在引用名称列表之后。 默认为 "<code>)</code>"。</p>
</li>
<li>
<p><em>separator=&lt;值&gt;</em>： 显示在引用名称之间。 默认为 "<code>,</code>&#160;"。</p>
</li>
<li>
<p><em>point=&lt;值&gt;</em>： 显示在 HEAD 和其指向的分支（如果有）之间。
默认为 "&#160;<code>-&gt;</code>&#160;"。</p>
</li>
<li>
<p><em>tag=&lt;值&gt;</em>： 显示在标记名称之前。默认为 "<code>tag:</code>&#160;"。</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>例如，制作不带包装或标签注释的装饰，并用空格作为分隔符：</p>
</div>
<div class="paragraph">
<p>+
<code>%(decorate:prefix=,suffix=,tag=,separator= )</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-show-emdescribeltgtem"> <a class="anchor" href="#git-show-emdescribeltgtem"></a><em>%(describe[:&lt;选项&gt;])</em> </dt>
<dd>
<p>人类可读的名字，像<a href='{{< relurl "docs/git-describe/zh_HANS-CN" >}}'>git-describe[1]</a>；空字符串表示不可描述的提交。 `describe`字符串后面可以有冒号和零个或多个逗号分隔的选项。 当标签同时被添加或删除时，描述可能不一致。</p>
<div class="ulist">
<ul>
<li>
<p><em>tags[=&lt;bool-value&gt;]</em>：不仅考虑带注释的标签，还考虑轻量级标签。</p>
</li>
<li>
<p><em>abbrev=&lt;数量&gt;</em>：不使用缩写对象名称的默认十六进制位数（根据仓库中对象的数量而变化，默认为 7 位），而是使用 &lt;数量&gt; 的位数，或根据需要的位数来组成唯一的对象名称。</p>
</li>
<li>
<p><em>match=&lt;pattern&gt;</em>:只考虑与给定的`glob(7)`模式匹配的标签，不包括 "refs/tags/"前缀。</p>
</li>
<li>
<p><em>exclude=&lt;pattern&gt;</em>:不考虑匹配给定`glob(7)`模式的标签，排除 "refs/tags/"前缀。</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1" id="git-show-emSem"> <a class="anchor" href="#git-show-emSem"></a><em>%S</em> </dt>
<dd>
<p>在命令行中给出的提交名称（如 <code>git log --source</code>），只对 <code>git log</code> 起作用</p>
</dd>
<dt class="hdlist1" id="git-show-emeem"> <a class="anchor" href="#git-show-emeem"></a><em>%e</em> </dt>
<dd>
<p>编码方式</p>
</dd>
<dt class="hdlist1" id="git-show-emsem"> <a class="anchor" href="#git-show-emsem"></a><em>%s</em> </dt>
<dd>
<p>主题</p>
</dd>
<dt class="hdlist1" id="git-show-emfem"> <a class="anchor" href="#git-show-emfem"></a><em>%f</em> </dt>
<dd>
<p>经过消毒的主题行，适合于文件名</p>
</dd>
<dt class="hdlist1" id="git-show-embem"> <a class="anchor" href="#git-show-embem"></a><em>%b</em> </dt>
<dd>
<p>正文</p>
</dd>
<dt class="hdlist1" id="git-show-emBem"> <a class="anchor" href="#git-show-emBem"></a><em>%B</em> </dt>
<dd>
<p>原始体（未包装的主题和体）</p>
</dd>
<dt class="hdlist1" id="git-show-emNem"> <a class="anchor" href="#git-show-emNem"></a><em>%N</em> </dt>
<dd>
<p>承诺说明</p>
</dd>
<dt class="hdlist1" id="git-show-emGGem"> <a class="anchor" href="#git-show-emGGem"></a><em>%GG</em> </dt>
<dd>
<p>来自GPG的签名提交的原始验证信息</p>
</dd>
<dt class="hdlist1" id="git-show-emGem"> <a class="anchor" href="#git-show-emGem"></a><em>%G?</em> </dt>
<dd>
<p>显示 "G" 代表一个好的（有效的）签名，"B" 代表一个坏的签名，"U" 代表一个有效性未知的好的签名，"X" 代表一个已经过期的好的签名，"Y" 代表一个由过期的钥匙制作的好的签名，"R" 代表一个由撤销的 钥匙制作的好的签名，"E" 如果不能检查签名（如缺少钥匙），"N" 代表没有签名</p>
</dd>
<dt class="hdlist1" id="git-show-emGSem"> <a class="anchor" href="#git-show-emGSem"></a><em>%GS</em> </dt>
<dd>
<p>显示已签名的提交的签名者的名字</p>
</dd>
<dt class="hdlist1" id="git-show-emGKem"> <a class="anchor" href="#git-show-emGKem"></a><em>%GK</em> </dt>
<dd>
<p>显示用于签署已签名的承诺的密钥</p>
</dd>
<dt class="hdlist1" id="git-show-emGFem"> <a class="anchor" href="#git-show-emGFem"></a><em>%GF</em> </dt>
<dd>
<p>显示用于签署已签名提交文件的密钥的指纹</p>
</dd>
<dt class="hdlist1" id="git-show-emGPem"> <a class="anchor" href="#git-show-emGPem"></a><em>%GP</em> </dt>
<dd>
<p>显示主键的指纹，该主键的子键被用来签署一个已签署的提交</p>
</dd>
<dt class="hdlist1" id="git-show-emGTem"> <a class="anchor" href="#git-show-emGTem"></a><em>%GT</em> </dt>
<dd>
<p>显示用于签署已签名的承诺的密钥的信任级别</p>
</dd>
<dt class="hdlist1" id="git-show-emgDem"> <a class="anchor" href="#git-show-emgDem"></a><em>%gD</em> </dt>
<dd>
<p>reflog选择器，例如，<code>refs/stash@{1}`或`refs/stash@{2分钟前}</code>；其格式遵循`-g`选项的规则。<code>@'前面的部分是命令行上给出的参考文献名称（所以`git log -g refs/heads/master`会产生`refs/heads/master@{0}</code>）。</p>
</dd>
<dt class="hdlist1" id="git-show-emgdem"> <a class="anchor" href="#git-show-emgdem"></a><em>%gd</em> </dt>
<dd>
<p>简化的 reflog 选择器；与 <code>%gD</code> 相同，但 refname 部分被缩短以利于人类阅读（因此 <code>refs/heads/master</code> 变成了 <code>master</code>）。</p>
</dd>
<dt class="hdlist1" id="git-show-emgnem"> <a class="anchor" href="#git-show-emgnem"></a><em>%gn</em> </dt>
<dd>
<p>记录身份名称</p>
</dd>
<dt class="hdlist1" id="git-show-emgNem"> <a class="anchor" href="#git-show-emgNem"></a><em>%gN</em> </dt>
<dd>
<p>引用日志身份名称（尊重 .mailmap，参见 <a href='{{< relurl "docs/git-shortlog/zh_HANS-CN" >}}'>git-shortlog[1]</a> 或 <a href='{{< relurl "docs/git-blame/zh_HANS-CN" >}}'>git-blame[1]</a></p>
</dd>
<dt class="hdlist1" id="git-show-emgeem"> <a class="anchor" href="#git-show-emgeem"></a><em>%ge</em> </dt>
<dd>
<p>重新记录身份邮件</p>
</dd>
<dt class="hdlist1" id="git-show-emgEem"> <a class="anchor" href="#git-show-emgEem"></a><em>%gE</em> </dt>
<dd>
<p>引用日志身份电子邮箱（尊重 .mailmap，参见 <a href='{{< relurl "docs/git-shortlog/zh_HANS-CN" >}}'>git-shortlog[1]</a> 或 <a href='{{< relurl "docs/git-blame/zh_HANS-CN" >}}'>git-blame[1]</a></p>
</dd>
<dt class="hdlist1" id="git-show-emgsem"> <a class="anchor" href="#git-show-emgsem"></a><em>%gs</em> </dt>
<dd>
<p>记录主题</p>
</dd>
<dt class="hdlist1" id="git-show-emtrailersltgtem"> <a class="anchor" href="#git-show-emtrailersltgtem"></a><em>%(trailers[:&lt;选项&gt;])</em> </dt>
<dd>
<p>显示由 <a href='{{< relurl "docs/git-interpret-trailers/zh_HANS-CN" >}}'>git-interpret-trailers[1]</a> 解释的正文的为主。<code>trailers</code> 字符串后面可以有冒号和零个或多个逗号分隔的选项。 如果任何选项被多次提供，则最后出现的选项获胜。</p>
<div class="ulist">
<ul>
<li>
<p><em>key=&lt;键&gt;</em>：只显示具有指定密钥的为主。匹配是不分大小写的，后面的冒号是可选的。如果多次给出选项，则显示与任何键匹配的为主行。该选项自动启用 <code>only</code> 选项，使拖车块中的非尾注行被隐藏。如果不希望这样，可以用 <code>only=false</code> 禁用。 例如，<code>%(trailers:key=Reviewed-by)</code> 显示键为 <code>Reviewed-by</code> 的拖车行。</p>
</li>
<li>
<p><em>only[=&lt;布尔值&gt;]</em> ：选择是否应该包括来自尾注块的非尾注行。</p>
</li>
<li>
<p><em>separator=&lt;sep&gt;</em>: specify the separator inserted between trailer lines. Defaults to a line feed character. The string &lt;sep&gt; may contain the literal formatting codes described above. To use comma as separator one must use <code>%x2C</code> as it would otherwise be parsed as next option. E.g., <code>%(trailers:key=Ticket,separator=%x2C )</code> shows all trailer lines whose key is "Ticket" separated by a comma and a space.</p>
</li>
<li>
<p><em>unfold[=&lt;布尔值&gt;]</em>：使它的行为就像 interpret-trailer 的 <code>--unfold</code> 选项被给出一样。例如，`%(trailers:only,unfold=true)`会展开并显示所有的尾注行。</p>
</li>
<li>
<p><em>keyonly[=&lt;布尔值&gt;]</em>：只显示尾注的关键部分。</p>
</li>
<li>
<p><em>valueonly[=&lt;布尔值&gt;]</em>：只显示尾注的值部分。</p>
</li>
<li>
<p><em>key_value_separator=&lt;sep&gt;</em>: specify the separator inserted between the key and value of each trailer. Defaults to ": ". Otherwise it shares the same semantics as <em>separator=&lt;sep&gt;</em> above.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
一些占位符可能取决于给修订版遍历引擎的其他选项。例如，<code>%g*</code> reflog选项将插入一个空字符串，除非我们正在遍历reflog条目（例如，通过`git log -g`）。<code>%d`和</code>%D`占位符将使用 "短 "装饰格式，如果`--decorate`没有在命令行上提供。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The boolean options accept an optional value <code>[=&lt;bool-value&gt;]</code>. The values taken by <code>--type=bool</code> git-config[1], like <code>yes</code> and <code>off</code>, are all accepted. Giving a boolean option without <code>=&lt;value&gt;</code> is equivalent to giving it with <code>=true</code>.</p>
</div>
<div class="paragraph">
<p>如果你在占位符的'%<em>后面加了一个`+</em>（加号），当且仅当占位符扩展为一个非空字符串时，在扩展前会立即插入换行符。</p>
</div>
<div class="paragraph">
<p>如果你在占位符的'%<em>后面加了一个`-</em>（减号），如果且仅当占位符扩展为空字符串时，紧接着扩展前的所有连续换行将被删除。</p>
</div>
<div class="paragraph">
<p>如果你在占位符的'%'后面加了一个``（空格），当且仅当占位符扩展到一个非空字符串时，空格就会紧接着插入扩展。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>t格式:</em></p>
<div class="paragraph">
<p><em>tformat:</em> 格式的工作原理与 <em>format:</em> 完全一样，只是它提供了 “终止符” 语义，而不是 “分隔符” 语义。换句话说，每个提交都附加了信息结束符（通常是换行符），而不是在条目之间放置一个分隔符。 这意味着单行格式的最后一个条目将正确地以新行结束，就像 “单行” 格式那样。 比如说：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git log -2 --pretty=format:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973 -- NO NEWLINE

$ git log -2 --pretty=tformat:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973</pre>
</div>
</div>
<div class="paragraph">
<p>此外，任何未被识别的字符串，如果其中有 <code>%</code> ，将被解释为前面有 <code>tformat:</code> 。 例如，这两个是等同的：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git log -2 --pretty=tformat:%h 4da45bef
$ git log -2 --pretty=%h 4da45bef</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_差异格式化"><a class="anchor" href="#_差异格式化"></a>差异格式化</h2>
<div class="sectionbody">
<div class="paragraph">
<p>下面的选项可以用来改变`git show`生成差异输出的方式。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Missing <code>zh_HANS-CN/diff-options.adoc</code></p>
</div>
<div class="paragraph">
<p>See original version for this content.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generate_patch_text_with_p"><a class="anchor" href="#generate_patch_text_with_p"></a>使用选项 <code>-p</code> 生成补丁文本</h2>
<div class="sectionbody">
<div class="paragraph">
<p>使用 <code>-p</code> 选项运行 <a href='{{< relurl "docs/git-diff/zh_HANS-CN" >}}'>git-diff[1]</a>、<a href='{{< relurl "docs/git-log/zh_HANS-CN" >}}'>git-log[1]</a>、<a href='{{< relurl "docs/git-show/zh_HANS-CN" >}}'>git-show[1]</a>、<a href='{{< relurl "docs/git-diff-index/zh_HANS-CN" >}}'>git-diff-index[1]</a>、<a href='{{< relurl "docs/git-diff-tree/zh_HANS-CN" >}}'>git-diff-tree[1]</a> 或 <a href='{{< relurl "docs/git-diff-files/zh_HANS-CN" >}}'>git-diff-files[1]</a> 会生成补丁文本。 你可以通过 <code>GIT_EXTERNAL_DIFF</code> 和 <code>GIT_DIFF_OPTS</code> 环境变量（参见 <a href='{{< relurl "docs/git/zh_HANS-CN" >}}'>git[1]</a>），以及 <code>diff</code> 属性（参见 <a href='{{< relurl "docs/gitattributes/zh_HANS-CN" >}}'>gitattributes[5]</a>）自定义补丁文本的创建。</p>
</div>
<div class="paragraph">
<p>What the <code>-p</code> option produces is slightly different from the traditional diff format:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>它前面有一个 <code>git diff</code> 头，如下所示：</p>
<div class="literalblock">
<div class="content">
<pre>diff --git a/file1 b/file2</pre>
</div>
</div>
<div class="paragraph">
<p><code>a/</code> 和 <code>b/</code> 的文件名相同，除非涉及到重命名/复制。特别地，即使是创建或删除，也 <em>不</em> 使用 <code>/dev/null</code> 来代替 <code>a/</code> 或 <code>b/</code> 文件名。</p>
</div>
<div class="paragraph">
<p>当涉及重命名/复制时，<code>file1</code> 和 <code>file2</code> 分别显示重命名/复制的源文件名和重命名/复制产生的文件名。</p>
</div>
</li>
<li>
<p>它的后面是一个或多个扩展头信息行：</p>
<div class="paragraph">
<p>old mode &lt;mode&gt;
new mode &lt;mode&gt;
deleted file mode &lt;mode&gt;
new file mode &lt;mode&gt;
copy from &lt;path&gt;
copy to &lt;path&gt;
rename from &lt;path&gt;
rename to &lt;path&gt;
similarity index &lt;number&gt;
dissimilarity index &lt;number&gt;
index &lt;hash&gt;..&lt;hash&gt; &lt;mode&gt;</p>
</div>
<div class="paragraph">
<p>File modes <em>&lt;mode&gt;</em> are printed as 6-digit octal numbers including the file type and file permission bits.</p>
</div>
<div class="paragraph">
<p>扩展头信息中的路径名称不包括 <code>a/</code> 和 <code>b/</code> 前缀。</p>
</div>
<div class="paragraph">
<p>相似性指数是未改变的行占比，而不相似性指数是改变的行占比。它是四舍五入的整数，后有百分号。因此，100%的相似度指数指为两个文件相等，而 100% 的不相似度意味着入新文件中没有旧文件中的行。</p>
</div>
<div class="paragraph">
<p>The index line includes the blob object names before and after the change. The <em>&lt;mode&gt;</em> is included if the file mode does not change; otherwise, separate lines indicate the old and the new mode.</p>
</div>
</li>
<li>
<p>含有 "不常见" 字符的路径名会被引用，这一点在配置变量` core.quotePath` 中有所解释（见 <a href='{{< relurl "docs/git-config/zh_HANS-CN" >}}'>git-config[1]</a>）。</p>
</li>
<li>
<p>输出中所有的 <code>file1</code> 文件都是指提交前的文件，而所有的 <code>file2</code> 文件都是指提交后的文件。按顺序对每个文件进行修改是不正确的。例如，这个补丁将交换文件 a 和 b：</p>
<div class="literalblock">
<div class="content">
<pre>diff --git a/a b/b
rename from a
rename to b
diff --git a/b b/a
rename from b
rename to a</pre>
</div>
</div>
</li>
<li>
<p>块头提到了块头所适用的函数的名称。 参见 <a href='{{< relurl "docs/gitattributes/zh_HANS-CN" >}}'>gitattributes[5]</a> 中的 “定义自定义 hunk-header”，以了解如何针对特定语言进行定制。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_合并的差异格式"><a class="anchor" href="#_合并的差异格式"></a>合并的差异格式</h2>
<div class="sectionbody">
<div class="paragraph">
<p>任何生成差异的命令都可以使用 <code>-c</code> 或 <code>--cc</code> 选项，在显示合并时产生一个 “合并差异”。当用 <a href='{{< relurl "docs/git-diff/zh_HANS-CN" >}}'>git-diff[1]</a> 或 <a href='{{< relurl "docs/git-show/zh_HANS-CN" >}}'>git-show[1]</a> 显示合并时，这默认格式。还需要注意的是，你可以给这些命令适当的 <code>--diff-merges</code> 选项来强制生成特定格式的差异。</p>
</div>
<div class="paragraph">
<p>"合并的差异" 的格式如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>diff --combined describe.c
index fabadb8,cc95eb0..4866510
--- a/describe.c
+++ b/describe.c
@@@ -98,20 -98,12 +98,20 @@@
	return (a_date &gt; b_date) ? -1 : (a_date == b_date) ? 0 : 1;
  }

- static void describe(char *arg)
 -static void describe(struct commit *cmit, int last_one)
++static void describe(char *arg, int last_one)
  {
 +	unsigned char sha1[20];
 +	struct commit *cmit;
	struct commit_list *list;
	static int initialized = 0;
	struct commit_name *n;

 +	if (get_sha1(arg, sha1) &lt; 0)
 +		usage(describe_usage);
 +	cmit = lookup_commit_reference(sha1);
 +	if (!cmit)
 +		usage(describe_usage);
 +
	if (!initialized) {
		initialized = 1;
		for_each_ref(get_name);</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>它前面有 "git diff" 头，如下（当使用 <code>-c</code> 选项时）：</p>
<div class="literalblock">
<div class="content">
<pre>diff --combined file</pre>
</div>
</div>
<div class="paragraph">
<p>或如下（当使用 <code>--cc</code> 选项时）：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>diff --cc file</pre>
</div>
</div>
</li>
<li>
<p>它的后面是一个或多个扩展头信息行（本例显示的是与两个父提交的合并）：</p>
<div class="paragraph">
<p>index &lt;hash&gt;,&lt;hash&gt;..&lt;hash&gt;
mode &lt;mode&gt;,&lt;mode&gt;<code>..</code>&lt;mode&gt;
new file mode &lt;mode&gt;
deleted file mode &lt;mode&gt;,&lt;mode&gt;</p>
</div>
<div class="paragraph">
<p>The <code>mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;</code> line appears only if at least one of the &lt;mode&gt; is different from the rest. Extended headers with information about detected content movement (renames and copying detection) are designed to work with the diff of two <em>&lt;tree-ish&gt;</em> and are not used by combined diff format.</p>
</div>
</li>
<li>
<p>它的后面是两行源文件/目标文件的头信息：</p>
<div class="literalblock">
<div class="content">
<pre>--- a/file
+++ b/file</pre>
</div>
</div>
<div class="paragraph">
<p>与传统 ‘统一’ diff 格式的双行标题类似，<code>/dev/null</code> 用于表示已创建或已删除的文件。</p>
</div>
<div class="paragraph">
<p>但是，如果提供了 --combined-all-paths 选项，你就会得到一个 N+1 行的源文件/目标文件头，其中 N 是合并提交中的父提交数量：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>--- a/file
--- a/file
--- a/file
+++ b/file</pre>
</div>
</div>
<div class="paragraph">
<p>如果重命名或复制检测处于活动状态，这种扩展格式可能很有用，可以让你在不同的父提交中看到文件的原始名称。</p>
</div>
</li>
<li>
<p>修改了文件块头信息的格式，以防止不小心将其送入 <code>patch -p1</code>。合并的差异格式是为审查合并提交的修改而创建的，并不是为了应用。这个变化类似于扩展的 "索引" 头信息的变化：</p>
<div class="literalblock">
<div class="content">
<pre>@@@ &lt;from-file-range&gt; &lt;from-file-range&gt; &lt;to-file-range&gt; @@@</pre>
</div>
</div>
<div class="paragraph">
<p>块中有（父提交数量+1）<code>@</code> 字符，用于合并的差异格式。</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>与传统的 "统一" 差异格式不同，这种格式显示两个文件 A 和 B 的列，其中有 <code>-</code>（减号&#8201;&#8212;&#8201;在 A 中出现，但在 B 中删除），<code>+</code>（加号&#8201;&#8212;&#8201;在 A 中缺少，但在 B 中增加），或 <code>" "</code>（空格&#8201;&#8212;&#8201;不变）前缀，这种格式比较两个或多个文件与一个文件 X，并显示 X 与其中每个文件的差异。文件中的每一个都有一列被前置在输出行中，以指出 X 的行与它的不同之处。</p>
</div>
<div class="paragraph">
<p>第 N 列中的 <code>-</code> 字符意味着该行出现在文件 N 中，但它没有出现在结果文件中。第 N 列中的 <code>+</code> 字符意味着该行出现在结果文件中，而文件 N 中没有该行（换句话说，从该父提交的角度来看，该行是被添加的）。</p>
</div>
<div class="paragraph">
<p>在上面的输出示例中，两个文件中的函数签名都被改变了（因此从文件 1 和文件 2 中都有表示删除的 <code>-</code>，而 <code>++</code> 表示被添加的一行没有出现在文件 1 或文件 2 中）。另外还有 8 行与文件 1 中的相同，但没有出现在文件 2 中（因此前缀为 <code>+</code>）。</p>
</div>
<div class="paragraph">
<p>当用 <code>git diff-tree -c</code> 显示时，它将合并提交的父提交文件与合并结果进行比较（即文件 1 &#8230;&#8203; 文件 N 是父提交文件）。当用 <code>git diff-files -c</code> 显示时，它将两个未解决的合并父提交文件与工作树文件进行比较（即文件 1 是阶段 2 ，又称 "我们的版本"，文件 2 是阶段 3，又称 "他们的版本"）。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_实例"><a class="anchor" href="#_实例"></a>实例</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-show-codegitshowv100code"> <a class="anchor" href="#git-show-codegitshowv100code"></a><code>git show v1.0.0</code> </dt>
<dd>
<p>显示标签 <code>v1.0.0</code>，以及标签指向的对象。</p>
</dd>
<dt class="hdlist1" id="git-show-codegitshowv100treecode"> <a class="anchor" href="#git-show-codegitshowv100treecode"></a><code>git show v1.0.0^{tree}</code> </dt>
<dd>
<p>显示标签`v1.0.0`所指向的树。</p>
</dd>
<dt class="hdlist1" id="git-show-codegitshow-s--formatsv100commitcode"> <a class="anchor" href="#git-show-codegitshow-s--formatsv100commitcode"></a><code>git show -s --format=%s v1.0.0^{commit}</code> </dt>
<dd>
<p>显示由标签`v1.0.0`指向的提交的主题。</p>
</dd>
<dt class="hdlist1" id="git-show-codegitshownext10DocumentationREADMEcode"> <a class="anchor" href="#git-show-codegitshownext10DocumentationREADMEcode"></a><code>git show next~10:Documentation/README</code> </dt>
<dd>
<p>显示`Documentation/README`文件的内容，因为它们在分支`next`的最后10次提交中是当前的。</p>
</dd>
<dt class="hdlist1" id="git-show-codegitshowmasterMakefilemastertMakefilecode"> <a class="anchor" href="#git-show-codegitshowmasterMakefilemastertMakefilecode"></a><code>git show master:Makefile master:t/Makefile</code> </dt>
<dd>
<p>将上述Makefiles的内容串联在分支`master`的头部。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_讨论"><a class="anchor" href="#_讨论"></a>讨论</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Git在某种程度上是与字符编码无关的。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>blob对象的内容是未经解释的字节序列。 在核心层没有编码转换。</p>
</li>
<li>
<p>路径名以UTF-8规范化形式C编码，这适用于树对象、索引文件、参考名称，以及命令行参数、环境变量和配置文件（<code>.git/config</code>（见<a href='{{< relurl "docs/git-config/zh_HANS-CN" >}}'>git-config[1]</a>），<a href='{{< relurl "docs/gitignore/zh_HANS-CN" >}}'>gitignore[5]</a>，<a href='{{< relurl "docs/gitattributes/zh_HANS-CN" >}}'>gitattributes[5]</a> 和<a href='{{< relurl "docs/gitmodules/zh_HANS-CN" >}}'>gitmodules[5]</a>）中的路径名。</p>
<div class="paragraph">
<p>请注意，Git 在核心层将路径名简单地视为非 NUL 字节的序列，没有路径名编码的转换（除了 Mac 和 Windows）。因此，即使在使用传统的扩展ASCII编码的平台和文件系统上，使用非ASCII的路径名大多也能工作。然而，在这种系统上创建的仓库在基于UTF-8的系统（如Linux、Mac、Windows）上将无法正常工作，反之亦然。 此外，许多基于Git的工具简单地认为路径名称是UTF-8，而不能正确显示其他编码。</p>
</div>
</li>
<li>
<p>提交日志信息通常以UTF-8编码，但也支持其他扩展ASCII编码。这包括ISO-8859-x、CP125x和其他许多编码，但不包括UTF-16/32、EBCDIC和CJK多字节编码（GBK、Shift-JIS、Big5、EUC-x、CP9xx等）。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>尽管我们鼓励提交日志信息使用UTF-8编码，但核心系统和Git Porcelain的设计并不强制要求项目使用UTF-8。 如果某个项目的所有参与者都认为使用传统编码更方便，Git也不会禁止。 然而，有几件事需要注意。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>git commit</code> and <code>git commit-tree</code> issue a warning if the commit log message given to it does not look like a valid UTF-8 string, unless you explicitly say your project uses a legacy encoding. The way to say this is to have <code>i18n.commitEncoding</code> in <code>.git/config</code> file, like this:</p>
<div class="listingblock">
<div class="content">
<pre>[i18n]
	commitEncoding = ISO-8859-1</pre>
</div>
</div>
<div class="paragraph">
<p>用上述设置创建的提交对象在它的 <code>encoding</code> 头中记录了 <code>i18n.commitEncoding</code> 的值。 这是为了帮助以后看这些对象的人。 缺少这个头意味着提交日志信息是以 UTF-8 编码的。</p>
</div>
</li>
<li>
<p><code>git log</code>, <code>git show</code>, <code>git blame</code> and friends look at the <code>encoding</code> header of a commit object, and try to re-code the log message into UTF-8 unless otherwise specified. You can specify the desired output encoding with <code>i18n.logOutputEncoding</code> in <code>.git/config</code> file, like this:</p>
<div class="listingblock">
<div class="content">
<pre>[i18n]
	logOutputEncoding = ISO-8859-1</pre>
</div>
</div>
<div class="paragraph">
<p>如果你没有这个配置变量，则使用`i18n.commitEncoding`的值来代替。</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>请注意，我们特意选择在提交对象层面上，不对提交日志信息进行重新编码，因为重新编码为UTF-8不一定是一个可逆的操作。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>属于 <a href='{{< relurl "docs/git/zh_HANS-CN" >}}'>git[1]</a> 文档</p>
</div>
</div>
</div>