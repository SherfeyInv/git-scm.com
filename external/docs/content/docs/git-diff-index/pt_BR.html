---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-diff-index Documentation
docname: git-diff-index
lang: pt_BR
aliases:
- "/docs/git-diff-index/pt_BR/index.html"
---
<div class="sect1">
<h2 id="_nome"><a class="anchor" href="#_nome"></a>NOME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-diff-index - Compara uma árvore com a árvore ou índice de trabalho</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resumo"><a class="anchor" href="#_resumo"></a>RESUMO</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git diff-index</em> [-m] [--cached] [--merge-base] [&lt;opções-comuns-ao-diff&gt;] &lt;árvore&gt; [&lt;caminho&gt;&#8230;&#8203;]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_descrição"><a class="anchor" href="#_descrição"></a>DESCRIÇÃO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Compare o conteúdo e o modo das bolhas encontradss num objeto árvore com os arquivos rastreados correspondentes na árvore de trabalho ou com os caminhos correspondentes no índice. Quando os argumentos &lt;caminho&gt; estiverem presentes, compare apenas os caminhos que correspondem a estes padrões. Caso contrário, todos os arquivos serão comparados.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_opções"><a class="anchor" href="#_opções"></a>OPÇÕES</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Missing <code>pt_BR/diff-options.adoc</code></p>
</div>
<div class="paragraph">
<p>See original version for this content.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-diff-index-lttree-ishgt"> <a class="anchor" href="#git-diff-index-tree-ish"></a> <a class="anchor" href="#git-diff-index-lttree-ishgt"></a>&lt;tree-ish&gt; </dt>
<dd>
<p>A identificação de um objeto de árvore com a qual fazer o "diff".</p>
</dd>
<dt class="hdlist1" id="git-diff-index---cached"> <a class="anchor" href="#git-diff-index---cached"></a>--cached </dt>
<dd>
<p>Não considere de forma alguma o arquivo no disco.</p>
</dd>
<dt class="hdlist1" id="git-diff-index---merge-base"> <a class="anchor" href="#git-diff-index---merge-base"></a>--merge-base </dt>
<dd>
<p>Em vez de fazer a comparação direta de <code>&lt;tree-ish&gt;</code> , use a base mesclada entre <code>&lt;tree-ish&gt;</code> e <code>HEAD</code>. O <code>&lt;tree-ish&gt;</code> deve ser um commit.</p>
</dd>
<dt class="hdlist1" id="git-diff-index--m"> <a class="anchor" href="#git-diff-index--m"></a>-m </dt>
<dd>
<p>É predefinido que os arquivos registrados no índice, mas sem verificação, serão relatados como excluídos. Esta opção faz com que o comando <em>git diff-index</em> diga que todos os arquivos não verificados estão atualizados.</p>
</dd>
</dl>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Missing <code>pt_BR/diff-format.adoc</code></p>
</div>
<div class="paragraph">
<p>See original version for this content.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modos_de_operação"><a class="anchor" href="#_modos_de_operação"></a>MODOS DE OPERAÇÃO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Você pode escolher se deseja confiar totalmente no arquivo no índice (usando o a opção <code>--cached</code>) ou solicitar que a lógica do diff mostre todos os arquivos que não correspondam ao estado de estatísticas como sendo "provisoriamente alterados". Ambas as operações são realmente úteis.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modo_em_cache"><a class="anchor" href="#_modo_em_cache"></a>MODO EM CACHE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Caso <code>--cached</code> seja utilizado, será permitido que você pergunte:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mostre-me as diferenças atuais entre o HEAD e o índice
teor (os que eu escreveria utilizando 'git write-tree')</pre>
</div>
</div>
<div class="paragraph">
<p>Digamos que você trabalhou no seu diretório de trabalho por exemplo e atualizou alguns arquivos no índice e está pronto para fazer o commit. Caso queira ver exatamente <strong>o quê</strong> será feito no commit, sem precisar escrever um novo objeto árvore e compará-lo dessa maneira, faça</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git diff-index --cached HEAD</pre>
</div>
</div>
<div class="paragraph">
<p>Exemplo: digamos que eu tenha renomeado o arquivo <code>commit.c</code> para <code>git-commit.c</code> e tenha feito um <code>update-index</code> para tornar isso efetivo no índice do arquivo. O comando <code>git diff-files</code> não mostraria nada, pois o índice do arquivo corresponde ao meu diretório de trabalho. Porém, ao o comando <em>git diff-index</em> ele faz:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>torvalds@ppc970:~/git&gt; git diff-index --cached HEAD
:100644 000000 4161aecc6700a2eb579e842af0b7f22b98443f74 0000000000000000000000000000000000000000 D	commit.c
:000000 100644 0000000000000000000000000000000000000000 4161aecc6700a2eb579e842af0b7f22b98443f74 A	git-commit.c</pre>
</div>
</div>
<div class="paragraph">
<p>É possível ver facilmente que o item acima foi renomeado.</p>
</div>
<div class="paragraph">
<p>De fato, o comando <code>git diff-index --cached</code> <strong>deve</strong> sempre ser totalmente equivalente a fazer um <code>git write-tree</code> e comparar. Exceto que este é muito melhor para o caso onde você queira apenas averiguar onde você está.</p>
</div>
<div class="paragraph">
<p>Portanto, fazer um <code>git diff-index --cached</code> é basicamente muito mais útil quando você está se perguntando "o quê eu já marquei para ser feito o commit e qual a diferença com uma árvore anterior".</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modo_sem_cache"><a class="anchor" href="#_modo_sem_cache"></a>MODO SEM CACHE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>O modo "non-cached" adota uma abordagem diferente sendo potencialmente o mais útil dos dois, pois o que ele faz não pode ser emulado com um <em>git write-tree</em> + <em>git diff-tree</em>. Assim sendo, este é o modo predefinido. A versão sem cache faz questiona:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mostre-me as diferenças entre o `HEAD` e o que foi verificado
tree - índice do conteúdo _e_ os arquivos que não estão atualizados</pre>
</div>
</div>
<div class="paragraph">
<p>o que obviamente também é uma pergunta muito útil, pois isso indica qual commit você <strong>poderia</strong> fazer. Novamente, a saída coincidente à saída <em>git diff-tree -r</em> para um "tee", mas com uma desvantagem.</p>
</div>
<div class="paragraph">
<p>A desvantagem é que, caso algum arquivo não coincida com o índice, nós não temos uma uma estrutura de armazenamento para tanto e utilizamos a mágica do sha1 "zerado" para exibi-los. Então, digamos que você editou o arquivo <code>kernel/sched.c</code>, mas ainda não fez um <code>git update-index</code> nele - ainda não há um "objeto" associado a nova condição obtendo:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>torvalds@ppc970:~/v2.6/linux&gt; git diff-index --abbrev HEAD
:100644 100644 7476bb5ba 000000000 M	kernel/sched.c</pre>
</div>
</div>
<div class="paragraph">
<p>isto é, exiba que a árvore mudou, que o <code>kernel/sched.c</code> não está atualizado e pode haver novas coisas. O sha1 zerado significa que, para obter um "diff" real, é necessário olhar diretamente para o objeto no diretório de trabalho, em vez de um "diff" de objeto para objeto.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Como em outros comandos desse tipo, o <em>git diff-index</em> não analisa de forma alguma o conteúdo do arquivo. Então talvez o <code>kernel/sched.c</code> não tenha realmente mudado, e é só que você mexeu. Em ambos os casos, é importante observar que você precisa fazer um <em>git update-index</em> para sincronizar o índice.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Você pode exibir junto uma mistura de arquivos como "foi atualizado" e "ainda está sujo no diretório de trabalho". Você sempre pode dizer qual arquivo está em qual condição, uma vez que os que "foram atualizados" exibam um sha1 válido e os "que não estão sincronizados com o índice" sempre terão o sha1 especial, zerados.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Parte do conjunto <a href='{{< relurl "docs/git/pt_BR" >}}'>git[1]</a></p>
</div>
</div>
</div>