---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-sparse-checkout Documentation
docname: git-sparse-checkout
version: 2.32.0
aliases:
- "/docs/git-sparse-checkout/2.32.0/index.html"
- "/docs/git-sparse-checkout/2.32.1/index.html"
- "/docs/git-sparse-checkout/2.32.2/index.html"
- "/docs/git-sparse-checkout/2.32.3/index.html"
- "/docs/git-sparse-checkout/2.32.4/index.html"
- "/docs/git-sparse-checkout/2.32.5/index.html"
- "/docs/git-sparse-checkout/2.32.6/index.html"
- "/docs/git-sparse-checkout/2.32.7/index.html"
- "/docs/git-sparse-checkout/2.33.0/index.html"
- "/docs/git-sparse-checkout/2.33.1/index.html"
- "/docs/git-sparse-checkout/2.33.2/index.html"
- "/docs/git-sparse-checkout/2.33.3/index.html"
- "/docs/git-sparse-checkout/2.33.4/index.html"
- "/docs/git-sparse-checkout/2.33.5/index.html"
- "/docs/git-sparse-checkout/2.33.6/index.html"
- "/docs/git-sparse-checkout/2.33.7/index.html"
- "/docs/git-sparse-checkout/2.33.8/index.html"
---
<div class="sect1">
<h2 id="_name"><a class="anchor" href="#_name"></a>NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-sparse-checkout - Initialize and modify the sparse-checkout
configuration, which reduces the checkout to a set of paths
given by a list of patterns.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis"><a class="anchor" href="#_synopsis"></a>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git sparse-checkout &lt;subcommand&gt; [options]</em></pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description"><a class="anchor" href="#_description"></a>DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Initialize and modify the sparse-checkout configuration, which reduces
the checkout to a set of paths given by a list of patterns.</p>
</div>
<div class="paragraph">
<p>THIS COMMAND IS EXPERIMENTAL. ITS BEHAVIOR, AND THE BEHAVIOR OF OTHER
COMMANDS IN THE PRESENCE OF SPARSE-CHECKOUTS, WILL LIKELY CHANGE IN
THE FUTURE.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_commands"><a class="anchor" href="#_commands"></a>COMMANDS</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/git-sparse-checkout.txt-emlistem"><a id="Documentation/git-sparse-checkout.txt-list" class="anchor" href="#Documentation/git-sparse-checkout.txt-list"></a><em>list</em> </dt>
<dd>
<p>Describe the patterns in the sparse-checkout file.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-sparse-checkout.txt-eminitem"><a id="Documentation/git-sparse-checkout.txt-init" class="anchor" href="#Documentation/git-sparse-checkout.txt-init"></a><em>init</em> </dt>
<dd>
<p>Enable the <span class='synopsis'><code>core.sparseCheckout</code></span> setting. If the
sparse-checkout file does not exist, then populate it with
patterns that match every file in the root directory and
no other directories, then will remove all directories tracked
by Git. Add patterns to the sparse-checkout file to
repopulate the working directory.</p>
<div class="paragraph">
<p>To avoid interfering with other worktrees, it first enables the
<span class='synopsis'><code>extensions.worktreeConfig</code></span> setting and makes sure to set the
<span class='synopsis'><code>core.sparseCheckout</code></span> setting in the worktree-specific config file.</p>
</div>
<div class="paragraph">
<p>When <span class='synopsis'><code>--cone</code></span> is provided, the <span class='synopsis'><code>core.sparseCheckoutCone</code></span> setting is
also set, allowing for better performance with a limited set of
patterns (see <em>CONE PATTERN SET</em> below).</p>
</div>
<div class="paragraph">
<p>Use the <span class='synopsis'><code>--</code>[<code>no-</code>]<code>sparse-index</code></span> option to toggle the use of the sparse
index format. This reduces the size of the index to be more closely
aligned with your sparse-checkout definition. This can have significant
performance advantages for commands such as <span class='synopsis'><code>git</code> <code>status</code></span> or <span class='synopsis'><code>git</code> <code>add</code></span>.
This feature is still experimental. Some commands might be slower with
a sparse index until they are properly integrated with the feature.</p>
</div>
<div class="paragraph">
<p><strong>WARNING:</strong> Using a sparse index requires modifying the index in a way
that is not completely understood by external tools. If you have trouble
with this compatibility, then run <span class='synopsis'><code>git</code> <code>sparse-checkout</code> <code>init</code> <code>--no-sparse-index</code></span>
to rewrite your index to not be sparse. Older versions of Git will not
understand the sparse directory entries index extension and may fail to
interact with your repository until it is disabled.</p>
</div>
</dd>
<dt class="hdlist1" id="Documentation/git-sparse-checkout.txt-emsetem"><a id="Documentation/git-sparse-checkout.txt-set" class="anchor" href="#Documentation/git-sparse-checkout.txt-set"></a><em>set</em> </dt>
<dd>
<p>Write a set of patterns to the sparse-checkout file, as given as
a list of arguments following the <em>set</em> subcommand. Update the
working directory to match the new patterns. Enable the
core.sparseCheckout config setting if it is not already enabled.</p>
<div class="paragraph">
<p>When the <span class='synopsis'><code>--stdin</code></span> option is provided, the patterns are read from
standard in as a newline-delimited list instead of from the arguments.</p>
</div>
<div class="paragraph">
<p>When <span class='synopsis'><code>core.sparseCheckoutCone</code></span> is enabled, the input list is considered a
list of directories instead of sparse-checkout patterns. The command writes
patterns to the sparse-checkout file to include all files contained in those
directories (recursively) as well as files that are siblings of ancestor
directories. The input format matches the output of <span class='synopsis'><code>git</code> <code>ls-tree</code> <code>--name-only</code></span>.
This includes interpreting pathnames that begin with a double quote (") as
C-style quoted strings.</p>
</div>
</dd>
<dt class="hdlist1" id="Documentation/git-sparse-checkout.txt-emaddem"><a id="Documentation/git-sparse-checkout.txt-add" class="anchor" href="#Documentation/git-sparse-checkout.txt-add"></a><em>add</em> </dt>
<dd>
<p>Update the sparse-checkout file to include additional patterns.
By default, these patterns are read from the command-line arguments,
but they can be read from stdin using the <span class='synopsis'><code>--stdin</code></span> option. When
<span class='synopsis'><code>core.sparseCheckoutCone</code></span> is enabled, the given patterns are interpreted
as directory names as in the <em>set</em> subcommand.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-sparse-checkout.txt-emreapplyem"><a id="Documentation/git-sparse-checkout.txt-reapply" class="anchor" href="#Documentation/git-sparse-checkout.txt-reapply"></a><em>reapply</em> </dt>
<dd>
<p>Reapply the sparsity pattern rules to paths in the working tree.
Commands like merge or rebase can materialize paths to do their
work (e.g. in order to show you a conflict), and other
sparse-checkout commands might fail to sparsify an individual file
(e.g. because it has unstaged changes or conflicts).  In such
cases, it can make sense to run <span class='synopsis'><code>git</code> <code>sparse-checkout</code> <code>reapply</code></span> later
after cleaning up affected paths (e.g. resolving conflicts, undoing
or committing changes, etc.).</p>
</dd>
<dt class="hdlist1" id="Documentation/git-sparse-checkout.txt-emdisableem"><a id="Documentation/git-sparse-checkout.txt-disable" class="anchor" href="#Documentation/git-sparse-checkout.txt-disable"></a><em>disable</em> </dt>
<dd>
<p>Disable the <span class='synopsis'><code>core.sparseCheckout</code></span> config setting, and restore the
working directory to include all files. Leaves the sparse-checkout
file intact so a later <em>git sparse-checkout init</em> command may
return the working directory to the same state.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sparse_checkout"><a class="anchor" href="#_sparse_checkout"></a>SPARSE CHECKOUT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>"Sparse checkout" allows populating the working directory sparsely.
It uses the skip-worktree bit (see <a href='{{< relurl "docs/git-update-index" >}}'>git-update-index[1]</a>) to tell
Git whether a file in the working directory is worth looking at. If
the skip-worktree bit is set, then the file is ignored in the working
directory. Git will not populate the contents of those files, which
makes a sparse checkout helpful when working in a repository with many
files, but only a few are important to the current user.</p>
</div>
<div class="paragraph">
<p>The <span class='synopsis'><code>$GIT_DIR/info/sparse-checkout</code></span> file is used to define the
skip-worktree reference bitmap. When Git updates the working
directory, it updates the skip-worktree bits in the index based
on this file. The files matching the patterns in the file will
appear in the working directory, and the rest will not.</p>
</div>
<div class="paragraph">
<p>To enable the sparse-checkout feature, run <span class='synopsis'><code>git</code> <code>sparse-checkout</code> <code>init</code></span> to
initialize a simple sparse-checkout file and enable the <span class='synopsis'><code>core.sparseCheckout</code></span>
config setting. Then, run <span class='synopsis'><code>git</code> <code>sparse-checkout</code> <code>set</code></span> to modify the patterns in
the sparse-checkout file.</p>
</div>
<div class="paragraph">
<p>To repopulate the working directory with all files, use the
<span class='synopsis'><code>git</code> <code>sparse-checkout</code> <code>disable</code></span> command.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_full_pattern_set"><a class="anchor" href="#_full_pattern_set"></a>FULL PATTERN SET</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, the sparse-checkout file uses the same syntax as <span class='synopsis'><code>.gitignore</code></span>
files.</p>
</div>
<div class="paragraph">
<p>While <span class='synopsis'><code>$GIT_DIR/info/sparse-checkout</code></span> is usually used to specify what
files are included, you can also specify what files are <em>not</em> included,
using negative patterns. For example, to remove the file <span class='synopsis'><code>unwanted</code></span>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/*
!unwanted</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cone_pattern_set"><a class="anchor" href="#_cone_pattern_set"></a>CONE PATTERN SET</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The full pattern set allows for arbitrary pattern matches and complicated
inclusion/exclusion rules. These can result in O(N*M) pattern matches when
updating the index, where N is the number of patterns and M is the number
of paths in the index. To combat this performance issue, a more restricted
pattern set is allowed when <span class='synopsis'><code>core.sparseCheckoutCone</code></span> is enabled.</p>
</div>
<div class="paragraph">
<p>The accepted patterns in the cone pattern set are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Recursive:</strong> All paths inside a directory are included.</p>
</li>
<li>
<p><strong>Parent:</strong> All files immediately inside a directory are included.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In addition to the above two patterns, we also expect that all files in the
root directory are included. If a recursive pattern is added, then all
leading directories are added as parent patterns.</p>
</div>
<div class="paragraph">
<p>By default, when running <span class='synopsis'><code>git</code> <code>sparse-checkout</code> <code>init</code></span>, the root directory is
added as a parent pattern. At this point, the sparse-checkout file contains
the following patterns:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/*
!/*/</pre>
</div>
</div>
<div class="paragraph">
<p>This says "include everything in root, but nothing two levels below root."</p>
</div>
<div class="paragraph">
<p>When in cone mode, the <span class='synopsis'><code>git</code> <code>sparse-checkout</code> <code>set</code></span> subcommand takes a list of
directories instead of a list of sparse-checkout patterns. In this mode,
the command <span class='synopsis'><code>git</code> <code>sparse-checkout</code> <code>set</code> <code>A/B/C</code></span> sets the directory <span class='synopsis'><code>A/B/C</code></span> as
a recursive pattern, the directories <span class='synopsis'><code>A</code></span> and <span class='synopsis'><code>A/B</code></span> are added as parent
patterns. The resulting sparse-checkout file is now</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/*
!/*/
/A/
!/A/*/
/A/B/
!/A/B/*/
/A/B/C/</pre>
</div>
</div>
<div class="paragraph">
<p>Here, order matters, so the negative patterns are overridden by the positive
patterns that appear lower in the file.</p>
</div>
<div class="paragraph">
<p>If <span class='synopsis'><code>core.sparseCheckoutCone=true</code></span>, then Git will parse the sparse-checkout file
expecting patterns of these types. Git will warn if the patterns do not match.
If the patterns do match the expected format, then Git will use faster hash-
based algorithms to compute inclusion in the sparse-checkout.</p>
</div>
<div class="paragraph">
<p>In the cone mode case, the <span class='synopsis'><code>git</code> <code>sparse-checkout</code> <code>list</code></span> subcommand will list the
directories that define the recursive patterns. For the example sparse-checkout
file above, the output is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git sparse-checkout list
A/B/C</pre>
</div>
</div>
<div class="paragraph">
<p>If <span class='synopsis'><code>core.ignoreCase=true</code></span>, then the pattern-matching algorithm will use a
case-insensitive check. This corrects for case mismatched filenames in the
<em>git sparse-checkout set</em> command to reflect the expected cone in the working
directory.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_submodules"><a class="anchor" href="#_submodules"></a>SUBMODULES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If your repository contains one or more submodules, then submodules
are populated based on interactions with the <span class='synopsis'><code>git</code> <code>submodule</code></span> command.
Specifically, <span class='synopsis'><code>git</code> <code>submodule</code> <code>init</code> <code>--</code> <em>&lt;path&gt;</em></span> will ensure the submodule
at <span class='synopsis'><em>&lt;path&gt;</em></span> is present, while <span class='synopsis'><code>git</code> <code>submodule</code> <code>deinit</code> [<code>-f</code>] <code>--</code> <em>&lt;path&gt;</em></span>
will remove the files for the submodule at <span class='synopsis'><em>&lt;path&gt;</em></span> (including any
untracked files, uncommitted changes, and unpushed history).  Similar
to how sparse-checkout removes files from the working tree but still
leaves entries in the index, deinitialized submodules are removed from
the working directory but still have an entry in the index.</p>
</div>
<div class="paragraph">
<p>Since submodules may have unpushed changes or untracked files,
removing them could result in data loss.  Thus, changing sparse
inclusion/exclusion rules will not cause an already checked out
submodule to be removed from the working copy.  Said another way, just
as <span class='synopsis'><code>checkout</code></span> will not cause submodules to be automatically removed or
initialized even when switching between branches that remove or add
submodules, using <span class='synopsis'><code>sparse-checkout</code></span> to reduce or expand the scope of
"interesting" files will not cause submodules to be automatically
deinitialized or initialized either.</p>
</div>
<div class="paragraph">
<p>Further, the above facts mean that there are multiple reasons that
"tracked" files might not be present in the working copy: sparsity
pattern application from sparse-checkout, and submodule initialization
state.  Thus, commands like <span class='synopsis'><code>git</code> <code>grep</code></span> that work on tracked files in
the working copy may return results that are limited by either or both
of these restrictions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also"><a class="anchor" href="#_see_also"></a>SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href='{{< relurl "docs/git-read-tree" >}}'>git-read-tree[1]</a>
<a href='{{< relurl "docs/gitignore" >}}'>gitignore[5]</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Part of the <a href='{{< relurl "docs/git" >}}'>git[1]</a> suite</p>
</div>
</div>
</div>