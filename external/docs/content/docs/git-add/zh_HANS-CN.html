---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-add Documentation
docname: git-add
lang: zh_HANS-CN
aliases:
- "/docs/git-add/zh_HANS-CN/index.html"
---
<div class="sect1">
<h2 id="_名称"><a class="anchor" href="#_名称"></a>名称</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-add - 添加文件内容到索引</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_概述"><a class="anchor" href="#_概述"></a>概述</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git add [--verbose | -v] [--dry-run | -n] [--force | -f] [--interactive | -i] [--patch | -p]
	[--edit | -e] [--[no-]all | -A | --[no-]ignore-removal | [--update | -u]] [--sparse]
	[--intent-to-add | -N] [--refresh] [--ignore-errors] [--ignore-missing] [--renormalize]
	[--chmod=(+|-)x] [--pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]]
	[--] [&lt;pathspec&gt;&#8230;&#8203;]</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_描述"><a class="anchor" href="#_描述"></a>描述</h2>
<div class="sectionbody">
<div class="paragraph">
<p>该命令使用工作区的内容来更新索引，为下一次提交准备暂存的内容。通常情况下会添加当前目录的所有内容到索引，但是通过某些选项，它也可以用于仅添加对工作树文件所做的部分更改，或删除工作树中不存在的路径。</p>
</div>
<div class="paragraph">
<p>索引区中储存着一份工作区的快照，在下次提交时这份快照会被保存到 Git 仓库中。因此在工作区做过修改后以及在运行下一次提交命令前，你必须通过 <code>add</code> 命令来添加新创建的文件或者保存新的改动到索引中。</p>
</div>
<div class="paragraph">
<p>提交前可以多次执行此命令。它仅在运行add命令时添加指定文件的内容；如果要在下一次提交中包含后续更改，则必须再次运行`git add`将新内容添加到索引中。</p>
</div>
<div class="paragraph">
<p><code>git status</code> 命令可用于获取摘要，说明哪些变化的文件已暂存，准备下一次提交。</p>
</div>
<div class="paragraph">
<p>The <code>git add</code> command will not add ignored files by default. If any ignored files were explicitly specified on the command line, <code>git add</code> will fail with a list of ignored files. Ignored files reached by directory recursion or filename globbing performed by Git (quote your globs before the shell) will be silently ignored. The <code>git add</code> command can be used to add ignored files with the <code>-f</code> (force) option.</p>
</div>
<div class="paragraph">
<p>请参阅 <a href='{{< relurl "docs/git-commit/zh_HANS-CN" >}}'>git-commit[1]</a> 了解将内容添加到提交的其他替代方法。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_选项"><a class="anchor" href="#_选项"></a>选项</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-add-codeltpathspecgtcode"> <a class="anchor" href="#git-add-codeltpathspecgtcode"></a><code>&lt;pathspec&gt;...</code> </dt>
<dd>
<p>要从中添加内容的文件。可以使用文件通配符（例如 <code>*.c</code>）来添加所有匹配的文件。此外，还可以提供一个前导目录名（例如，指定 <code>dir</code> 以添加 <code>dir/file1</code> 和 <code>dir/file2</code>）来更新索引，使其与整个目录的当前状态相匹配（例如，指定 <code>dir</code> 不仅会记录在工作树中修改的文件 <code>dir/file1</code>，还会记录在工作树中添加的文件 <code>dir/file2</code>，还有从工作树中删除的文件 <code>dir/file3</code>）。请注意，旧版本的 Git 会忽略已删除的文件；如果要添加已修改的文件或新文件，但忽略已删除的文件，请使用 <code>--no-all</code> 选项。</p>
<div class="paragraph">
<p>For more details about the <em>&lt;pathspec&gt;</em> syntax, see the <em>pathspec</em> entry in <a href='{{< relurl "docs/gitglossary/zh_HANS-CN" >}}'>gitglossary[7]</a>.</p>
</div>
</dd>
<dt class="hdlist1" id="git-add-code-ncode"> <a class="anchor" href="#git-add-code-ncode"></a><code>-n</code> </dt>
<dt class="hdlist1" id="git-add-code--dry-runcode"> <a class="anchor" href="#git-add-code--dry-runcode"></a><code>--dry-run</code> </dt>
<dd>
<p>实际上不添加文件，仅展示文件是否存在或是否忽略。</p>
</dd>
<dt class="hdlist1" id="git-add-code-vcode"> <a class="anchor" href="#git-add-code-vcode"></a><code>-v</code> </dt>
<dt class="hdlist1" id="git-add-code--verbosecode"> <a class="anchor" href="#git-add-code--verbosecode"></a><code>--verbose</code> </dt>
<dd>
<p>详细日志。</p>
</dd>
<dt class="hdlist1" id="git-add-code-fcode"> <a class="anchor" href="#git-add-code-fcode"></a><code>-f</code> </dt>
<dt class="hdlist1" id="git-add-code--forcecode"> <a class="anchor" href="#git-add-code--forcecode"></a><code>--force</code> </dt>
<dd>
<p>允许添加已被忽略的文件。</p>
</dd>
<dt class="hdlist1" id="git-add-code--sparsecode"> <a class="anchor" href="#git-add-code--sparsecode"></a><code>--sparse</code> </dt>
<dd>
<p>允许更新稀疏检出 cone 之外的索引条目。 通常，<code>git add</code> 拒绝更新其路径不适合稀疏检出 cone 的索引条目，因为这些文件可能会在没有警告的情况下从工作区中删除。有关更多详细信息，请参阅链接 <a href='{{< relurl "docs/git-sparse-checkout/zh_HANS-CN" >}}'>git-sparse-checkout[1]</a>。</p>
</dd>
<dt class="hdlist1" id="git-add-code-icode"> <a class="anchor" href="#git-add-code-icode"></a><code>-i</code> </dt>
<dt class="hdlist1" id="git-add-code--interactivecode"> <a class="anchor" href="#git-add-code--interactivecode"></a><code>--interactive</code> </dt>
<dd>
<p>以交互方式将工作目录树中的修改内容添加到索引。可以提供可选的路径参数，以将操作限制为工作目录树的子集。有关详细信息，请参见 <em>'交互模式</em>'。</p>
</dd>
<dt class="hdlist1" id="git-add-code-pcode"> <a class="anchor" href="#git-add-code-pcode"></a><code>-p</code> </dt>
<dt class="hdlist1" id="git-add-code--patchcode"> <a class="anchor" href="#git-add-code--patchcode"></a><code>--patch</code> </dt>
<dd>
<p>交互地在索引和工作目录之间选择补丁块并将它们添加到索引中。这让用户有机会在将修改后的内容添加到索引之前查看差异。</p>
<div class="paragraph">
<p>参见这可以有效地运行 <code>add --interactive</code>，但是会绕过初始命令菜单，而直接跳转到 <code>patch</code> 子命令。有关详细信息，请参见 <em>'交互模式</em>'。</p>
</div>
</dd>
<dt class="hdlist1" id="git-add-code-ecode"> <a class="anchor" href="#git-add-code-ecode"></a><code>-e</code> </dt>
<dt class="hdlist1" id="git-add-code--editcode"> <a class="anchor" href="#git-add-code--editcode"></a><code>--edit</code> </dt>
<dd>
<p>在编辑器中打开与索引的差异，使用户进行编辑。关闭编辑器后，调整块补丁头并将其应用于索引。</p>
<div class="paragraph">
<p>此选项的目的是选择并选择要应用的补丁的行，甚至修改要暂存的行的内容。与使用交互式补丁块选择器相比，其更快，更灵活。但是，很容易混淆自己并创建不应用于索引的补丁。请参阅下面的编辑补丁。</p>
</div>
</dd>
<dt class="hdlist1" id="git-add-code-ucode"> <a class="anchor" href="#git-add-code-ucode"></a><code>-u</code> </dt>
<dt class="hdlist1" id="git-add-code--updatecode"> <a class="anchor" href="#git-add-code--updatecode"></a><code>--update</code> </dt>
<dd>
<p>Update the index just where it already has an entry matching <em>&lt;pathspec&gt;</em>. This removes as well as modifies index entries to match the working tree, but adds no new files.</p>
<div class="paragraph">
<p>If no <em>&lt;pathspec&gt;</em> is given when <code>-u</code> option is used, all tracked files in the entire working tree are updated (old versions of Git used to limit the update to the current directory and its subdirectories).</p>
</div>
</dd>
<dt class="hdlist1" id="git-add-code-Acode"> <a class="anchor" href="#git-add-code-Acode"></a><code>-A</code> </dt>
<dt class="hdlist1" id="git-add-code--allcode"> <a class="anchor" href="#git-add-code--allcode"></a><code>--all</code> </dt>
<dt class="hdlist1" id="git-add-code--no-ignore-removalcode"> <a class="anchor" href="#git-add-code--no-ignore-removalcode"></a><code>--no-ignore-removal</code> </dt>
<dd>
<p>Update the index not only where the working tree has a file matching <em>&lt;pathspec&gt;</em> but also where the index already has an entry. This adds, modifies, and removes index entries to match the working tree.</p>
<div class="paragraph">
<p>If no <em>&lt;pathspec&gt;</em> is given when <code>-A</code> option is used, all files in the entire working tree are updated (old versions of Git used to limit the update to the current directory and its subdirectories).</p>
</div>
</dd>
<dt class="hdlist1" id="git-add-code--no-allcode"> <a class="anchor" href="#git-add-code--no-allcode"></a><code>--no-all</code> </dt>
<dt class="hdlist1" id="git-add-code--ignore-removalcode"> <a class="anchor" href="#git-add-code--ignore-removalcode"></a><code>--ignore-removal</code> </dt>
<dd>
<p>Update the index by adding new files that are unknown to the index and files modified in the working tree, but ignore files that have been removed from the working tree. This option is a no-op when no <em>&lt;pathspec&gt;</em> is used.</p>
<div class="paragraph">
<p>This option is primarily to help users who are used to older versions of Git, whose <code>git add &lt;pathspec&gt;...</code> was a synonym for <code>git add --no-all &lt;pathspec&gt;...</code>, i.e. ignored removed files.</p>
</div>
</dd>
<dt class="hdlist1" id="git-add-code-Ncode"> <a class="anchor" href="#git-add-code-Ncode"></a><code>-N</code> </dt>
<dt class="hdlist1" id="git-add-code--intent-to-addcode"> <a class="anchor" href="#git-add-code--intent-to-addcode"></a><code>--intent-to-add</code> </dt>
<dd>
<p>只记录稍后将添加路径的事实。路径的项会被放置在索引中，但不包括改动的内容。这对于使用 <code>git diff</code> 显示文件的未暂存内容以及使 <code>git commit -a</code> 提交这些文件非常有用。</p>
</dd>
<dt class="hdlist1" id="git-add-code--refreshcode"> <a class="anchor" href="#git-add-code--refreshcode"></a><code>--refresh</code> </dt>
<dd>
<p>不添加文件，只刷新索引中的 stat() 信息。</p>
</dd>
<dt class="hdlist1" id="git-add-code--ignore-errorscode"> <a class="anchor" href="#git-add-code--ignore-errorscode"></a><code>--ignore-errors</code> </dt>
<dd>
<p>如果由于索引错误而无法添加某些文件，请不要中止操作，而是继续添加其他文件。命令仍应以非零状态退出。可以将配置变量 <code>add.ignoreErrors</code> 设置为 true，使其成为默认行为。</p>
</dd>
<dt class="hdlist1" id="git-add-code--ignore-missingcode"> <a class="anchor" href="#git-add-code--ignore-missingcode"></a><code>--ignore-missing</code> </dt>
<dd>
<p>This option can only be used together with <code>--dry-run</code>. By using this option the user can check if any of the given files would be ignored, no matter if they are already present in the work tree or not.</p>
</dd>
<dt class="hdlist1" id="git-add-code--no-warn-embedded-repocode"> <a class="anchor" href="#git-add-code--no-warn-embedded-repocode"></a><code>--no-warn-embedded-repo</code> </dt>
<dd>
<p>默认情况下， <code>git add</code> 将在向索引添加嵌入式存储库时发出警告，而不使用 <code>git submodule add</code> 在 <code>.gitmodules</code> 中创建条目。此选项将抑制警告（例如，如果手动对子模块执行操作）。</p>
</dd>
<dt class="hdlist1" id="git-add-code--renormalizecode"> <a class="anchor" href="#git-add-code--renormalizecode"></a><code>--renormalize</code> </dt>
<dd>
<p>Apply the "clean" process freshly to all tracked files to forcibly add them again to the index. This is useful after changing <code>core.autocrlf</code> configuration or the <code>text</code> attribute in order to correct files added with wrong <em>CRLF/LF</em> line endings. This option implies <code>-u</code>. Lone CR characters are untouched, thus while a <em>CRLF</em> cleans to <em>LF</em>, a <em>CRCRLF</em> sequence is only partially cleaned to <em>CRLF</em>.</p>
</dd>
<dt class="hdlist1" id="git-add-code--chmod-xcode"> <a class="anchor" href="#git-add-code--chmod-xcode"></a><code>--chmod=(+|-)x</code> </dt>
<dd>
<p>重写添加文件的可执行位。可执行位仅在索引中更改，磁盘上的文件保持不变。</p>
</dd>
<dt class="hdlist1" id="git-add-code--pathspec-from-fileltfilegtcode"> <a class="anchor" href="#git-add-code--pathspec-from-fileltfilegtcode"></a><code>--pathspec-from-file=&lt;file&gt;</code> </dt>
<dd>
<p>Pathspec is passed in <em>&lt;file&gt;</em> instead of commandline args. If <em>&lt;file&gt;</em> is exactly <code>-</code> then standard input is used. Pathspec elements are separated by <em>LF</em> or <em>CR/LF</em>. Pathspec elements can be quoted as explained for the configuration variable <code>core.quotePath</code> (see <a href='{{< relurl "docs/git-config/zh_HANS-CN" >}}'>git-config[1]</a>). See also <code>--pathspec-file-nul</code> and global <code>--literal-pathspecs</code>.</p>
</dd>
<dt class="hdlist1" id="git-add-code--pathspec-file-nulcode"> <a class="anchor" href="#git-add-code--pathspec-file-nulcode"></a><code>--pathspec-file-nul</code> </dt>
<dd>
<p>Only meaningful with <code>--pathspec-from-file</code>. Pathspec elements are separated with <em>NUL</em> character and all other characters are taken literally (including newlines and quotes).</p>
</dd>
<dt class="hdlist1" id="git-add-code--code"> <a class="anchor" href="#git-add-code--code"></a><code>--</code> </dt>
<dd>
<p>此选项可用于分离命令行选项和文件列表（当文件名可能被误认为命令行选项时非常有用）。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_实例"><a class="anchor" href="#_实例"></a>实例</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Adds content from all <code>*.txt</code> files under <code>Documentation</code> directory and its subdirectories:</p>
<div class="listingblock">
<div class="content">
<pre>$ git add Documentation/\*.txt</pre>
</div>
</div>
<div class="paragraph">
<p>Note that the asterisk <code>*</code> is quoted from the shell in this example; this lets the command include the files from subdirectories of <code>Documentation/</code> directory.</p>
</div>
</li>
<li>
<p>Considers adding content from all <code>git-*.sh</code> scripts:</p>
<div class="listingblock">
<div class="content">
<pre>$ git add git-*.sh</pre>
</div>
</div>
<div class="paragraph">
<p>因为这个示例允许 shell 扩展星号（即显式列出文件），所以它不包含 <code>subdir/git-foo.sh</code>。</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_交互模式"><a class="anchor" href="#_交互模式"></a>交互模式</h2>
<div class="sectionbody">
<div class="paragraph">
<p>当命令进入交互模式时，它将显示 <code>status</code> 子命令的输出，然后进入其交互命令循环。</p>
</div>
<div class="paragraph">
<p>命令循环显示可用的子命令列表，并提示 "What now&gt;"。通常，当提示以单个 <em>&gt;</em> 结尾时，您只能选择给定的一个选项并键入回车，如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    *** Commands ***
      1: status       2: update       3: revert       4: add untracked
      5: patch        6: diff         7: quit         8: help
    What now&gt; 1</pre>
</div>
</div>
<div class="paragraph">
<p>你也可以输入 <code>s</code>、<code>sta</code> 或 <code>status</code>，只要候选项是唯一的。</p>
</div>
<div class="paragraph">
<p>主命令循环有 6 个子命令（包括帮助和退出）。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-add-"> <a class="anchor" href="#git-add-"></a>状态 </dt>
<dd>
<p>This shows the change between <code>HEAD</code> and index (i.e. what will be committed if you say <code>git commit</code>), and between index and working tree files (i.e. what you could stage further before <code>git commit</code> using <code>git add</code>) for each path. A sample output looks like this:</p>
<div class="listingblock">
<div class="content">
<pre>              staged     unstaged path
     1:       binary      nothing foo.png
     2:     +403/-35        +1/-1 git-add--interactive.perl</pre>
</div>
</div>
<div class="paragraph">
<p>It shows that <code>foo.png</code> has differences from <code>HEAD</code> (but that is binary so line count cannot be shown) and there is no difference between indexed copy and the working tree version (if the working tree version were also different, <em>binary</em> would have been shown in place of <em>nothing</em>). The other file, <code>add-interactive.c</code>, has 403 lines added and 35 lines deleted if you commit what is in the index, but working tree file has further modifications (one addition and one deletion).</p>
</div>
</dd>
<dt class="hdlist1" id="git-add-update"> <a class="anchor" href="#git-add-update"></a>update </dt>
<dd>
<p>这将显示状态信息并发出 "Update&gt;&gt;" 提示。当提示以 <em>&gt;&gt;</em> 结尾时，可以进行多个选择，并用空格或逗号连接。你也可以输入范围。例如："2-5 7,9" 将从列表中选择 2、3、4、5、7、9。如果省略一个范围中的第二个数字，则将获取所有剩余的补丁。例如："7-" 从列表中选择 7、8、9。你可以输入 <em>*</em> 来选择全部补丁。</p>
<div class="paragraph">
<p>您选择的内容会用 <em>*</em> 突出显示，如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>           staged     unstaged path
  1:       binary      nothing foo.png
* 2:     +403/-35        +1/-1 git-add--interactive.perl</pre>
</div>
</div>
<div class="paragraph">
<p>要删除选定内容，请在输入前加上 <code>-</code>，如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Update&gt;&gt; -2</pre>
</div>
</div>
<div class="paragraph">
<p>进行选择后，输入空行，以便为索引中选定的路径暂存工作目录文件的内容。</p>
</div>
</dd>
<dt class="hdlist1" id="git-add--1"> <a class="anchor" href="#git-add--1"></a>还原 </dt>
<dd>
<p>它有一个与 <em>update</em> 非常相似的交互过程，所选路径的暂存信息将还原为 HEAD 版本。还原新路径将使它们不被追踪。</p>
</dd>
<dt class="hdlist1" id="git-add--1-1"> <a class="anchor" href="#git-add--1-1"></a>添加未跟踪文件 </dt>
<dd>
<p>它有一个与 <em>update</em> 和 <em>revert</em> 非常相似的交互过程，允许您向索引添加未跟踪的路径。</p>
</dd>
<dt class="hdlist1" id="git-add--1-1-1"> <a class="anchor" href="#git-add--1-1-1"></a>补丁 </dt>
<dd>
<p>这允许您从类似 <em>status</em> 命令的选择中选择一条路径。在选择路径之后，它将显示索引和工作树文件之间的差异，并询问您是否要暂存每个块的更改。您可以选择以下选项之一并输入回车：</p>
<div class="literalblock">
<div class="content">
<pre>y - stage this hunk
n - do not stage this hunk
q - quit; do not stage this hunk or any of the remaining ones
a - stage this hunk and all later hunks in the file
d - do not stage this hunk or any of the later hunks in the file
g - select a hunk to go to
/ - search for a hunk matching the given regex
j - leave this hunk undecided, see next undecided hunk
J - leave this hunk undecided, see next hunk
k - leave this hunk undecided, see previous undecided hunk
K - leave this hunk undecided, see previous hunk
s - split the current hunk into smaller hunks
e - manually edit the current hunk
p - print the current hunk
? - print help</pre>
</div>
</div>
<div class="paragraph">
<p>在决定了所有块的操作后，如果有选择的区块，则会使用其来更新索引。</p>
</div>
<div class="paragraph">
<p>通过将配置变量 <code>interactive.singleKey</code> 设置为 <code>true</code>，在此处可以不必键入回车。</p>
</div>
</dd>
<dt class="hdlist1" id="git-add-diff"> <a class="anchor" href="#git-add-diff"></a>diff </dt>
<dd>
<p>This lets you review what will be committed (i.e. between <code>HEAD</code> and index).</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_编辑补丁"><a class="anchor" href="#_编辑补丁"></a>编辑补丁</h2>
<div class="sectionbody">
<div class="paragraph">
<p>调用 <code>git add -e</code> 或从交互式块选择器中选择 <code>e</code> 命令，将在编辑器中打开一个补丁。编辑器退出后，结果将应用于索引。您可以随意对补丁进行任何更改，但是请注意，某些更改可能会导致混乱，甚至导致补丁无法使用。如果您想完全中止该操作（即不在索引中更新内容），只需删除补丁中的所有行。下面的列表描述了您可能会在补丁中看到的一些常见内容，以及对其进行哪些编辑操作才有意义。</p>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-add--1-1-1-1"> <a class="anchor" href="#git-add--1-1-1-1"></a>添加的内容 </dt>
<dd>
<p>添加的内容以 "&#43;" 开头的行表示。您可以删除它们以防止暂存。</p>
</dd>
<dt class="hdlist1" id="git-add--1-1-1-1-1"> <a class="anchor" href="#git-add--1-1-1-1-1"></a>删除的内容 </dt>
<dd>
<p>删除的内容以 "-" 开头的行表示。您可以通过将 "-" 转换为 " "（空格）来防止将其删除。</p>
</dd>
<dt class="hdlist1" id="git-add--1-1-1-1-1-1"> <a class="anchor" href="#git-add--1-1-1-1-1-1"></a>修改的内容 </dt>
<dd>
<p>修改后的内容由 "-" 行（删除旧内容）和 "&#43;" 行（添加替换内容）表示。通过将 "-" 行转换为 " "，并删除 "&#43;" 行，可以防止临时进行修改。请注意，只修改其中一个可能会给索引带来混乱的更改。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>There are also more complex operations that can be performed. But beware that because the patch is applied only to the index and not the working tree, the working tree will appear to "undo" the change in the index. For example, introducing a new line into the index that is in neither the <code>HEAD</code> nor the working tree will stage the new line for commit, but the line will appear to be reverted in the working tree.</p>
</div>
<div class="paragraph">
<p>避免使用这些构造，除非格外小心。</p>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-add--1-1-1-1-1-1-1"> <a class="anchor" href="#git-add--1-1-1-1-1-1-1"></a>删除未改动的内容 </dt>
<dd>
<p>索引和工作树之间没有区别的内容可能会显示在上下文行中，以 " "（空格）开头。您可以通过将空格转换为 "-" 来暂存要删除的上下文行。生成的工作目录树文件将重新添加内容。</p>
</dd>
<dt class="hdlist1" id="git-add--1-1-1-1-1-1-1-1"> <a class="anchor" href="#git-add--1-1-1-1-1-1-1-1"></a>修改现有的内容 </dt>
<dd>
<p>也可以通过暂存上下文行（通过将 " " 转换为 "-"）以进行删除来修改上下文行，并在其中添加新内容的 "&#43;" 行。类似地，可以修改 "&#43;" 行以进行现有内容的添加或修改。在所有情况下，新的修改都将在工作目录树中还原。</p>
</dd>
<dt class="hdlist1" id="git-add--1-1-1-1-1-1-1-1-1"> <a class="anchor" href="#git-add--1-1-1-1-1-1-1-1-1"></a>新的内容 </dt>
<dd>
<p>您还可以添加补丁中不存在的新内容。只需添加新行，每行以 "&#43;" 开头。添加的内容将还原到工作目录树中。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>还有一些操作应完全避免，因为它们会使补丁无法应用：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>添加上下文（" "）行或添加删除（"-"）行</p>
</li>
<li>
<p>删除上下文行或删除标记为删除的行</p>
</li>
<li>
<p>修改上下文或删除行的内容</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_配置"><a class="anchor" href="#_配置"></a>配置</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本节中这一行以下的内容都是从 <a href='{{< relurl "docs/git-config/zh_HANS-CN" >}}'>git-config[1]</a> 文档中摘录的。其内容与那里的内容相同：</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Missing <code>zh_HANS-CN/config/add.txt</code></p>
</div>
<div class="paragraph">
<p>See original version for this content.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_参见"><a class="anchor" href="#_参见"></a>参见</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href='{{< relurl "docs/git-status/zh_HANS-CN" >}}'>git-status[1]</a> <a href='{{< relurl "docs/git-rm/zh_HANS-CN" >}}'>git-rm[1]</a> <a href='{{< relurl "docs/git-reset/zh_HANS-CN" >}}'>git-reset[1]</a> <a href='{{< relurl "docs/git-mv/zh_HANS-CN" >}}'>git-mv[1]</a> <a href='{{< relurl "docs/git-commit/zh_HANS-CN" >}}'>git-commit[1]</a> <a href='{{< relurl "docs/git-update-index/zh_HANS-CN" >}}'>git-update-index[1]</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>属于 <a href='{{< relurl "docs/git/zh_HANS-CN" >}}'>git[1]</a> 文档</p>
</div>
</div>
</div>