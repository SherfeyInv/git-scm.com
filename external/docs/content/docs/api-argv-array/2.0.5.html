---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - api-argv-array Documentation
docname: api-argv-array
version: 2.0.5
aliases:
- "/docs/api-argv-array/2.0.5/index.html"
---
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The argv-array API allows one to dynamically build and store
NULL-terminated lists.  An argv-array maintains the invariant that the
<span class='synopsis'><code>argv</code></span> member always points to a non-NULL array, and that the array is
always NULL-terminated at the element pointed to by <span class='synopsis'><code>argv</code>[<code>argc</code>]</span>. This
makes the result suitable for passing to functions expecting to receive
argv from main(), or the <a href="{{< relurl "docs/api-run-command" >}}">run-command API</a>.</p>
</div>
<div class="paragraph">
<p>The <a href="{{< relurl "docs/api-string-list" >}}">string-list API</a> is similar, but cannot be
used for these purposes; instead of storing a straight string pointer,
it contains an item structure with a <span class='synopsis'><code>util</code></span> field that is not compatible
with the traditional argv interface.</p>
</div>
<div class="paragraph">
<p>Each <span class='synopsis'><code>argv_array</code></span> manages its own memory. Any strings pushed into the
array are duplicated, and all memory is freed by argv_array_clear().</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_structures"><a class="anchor" href="#_data_structures"></a>Data Structures</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/technical/api-argv-array.txt-spanclasssynopsiscodestructcodecodeargvarraycodespan"><a id="Documentation/technical/api-argv-array.txt-structargvarray" class="anchor" href="#Documentation/technical/api-argv-array.txt-structargvarray"></a><span class='synopsis'><code>struct</code> <code>argv_array</code></span> </dt>
<dd>
<p>A single array. This should be initialized by assignment from
<span class='synopsis'><code>ARGV_ARRAY_INIT</code></span>, or by calling <span class='synopsis'><code>argv_array_init</code></span>. The <span class='synopsis'><code>argv</code></span>
member contains the actual array; the <span class='synopsis'><code>argc</code></span> member contains the
number of elements in the array, not including the terminating
NULL.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_functions"><a class="anchor" href="#_functions"></a>Functions</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/technical/api-argv-array.txt-spanclasssynopsiscodeargvarrayinitcodespan"><a id="Documentation/technical/api-argv-array.txt-argvarrayinit" class="anchor" href="#Documentation/technical/api-argv-array.txt-argvarrayinit"></a><span class='synopsis'><code>argv_array_init</code></span> </dt>
<dd>
<p>Initialize an array. This is no different than assigning from
<span class='synopsis'><code>ARGV_ARRAY_INIT</code></span>.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-argv-array.txt-spanclasssynopsiscodeargvarraypushcodespan"><a id="Documentation/technical/api-argv-array.txt-argvarraypush" class="anchor" href="#Documentation/technical/api-argv-array.txt-argvarraypush"></a><span class='synopsis'><code>argv_array_push</code></span> </dt>
<dd>
<p>Push a copy of a string onto the end of the array.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-argv-array.txt-spanclasssynopsiscodeargvarraypushlcodespan"><a id="Documentation/technical/api-argv-array.txt-argvarraypushl" class="anchor" href="#Documentation/technical/api-argv-array.txt-argvarraypushl"></a><span class='synopsis'><code>argv_array_pushl</code></span> </dt>
<dd>
<p>Push a list of strings onto the end of the array. The arguments
should be a list of <span class='synopsis'><code>const</code> <code>char</code> <code>*</code></span> strings, terminated by a NULL
argument.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-argv-array.txt-spanclasssynopsiscodeargvarraypushfcodespan"><a id="Documentation/technical/api-argv-array.txt-argvarraypushf" class="anchor" href="#Documentation/technical/api-argv-array.txt-argvarraypushf"></a><span class='synopsis'><code>argv_array_pushf</code></span> </dt>
<dd>
<p>Format a string and push it onto the end of the array. This is a
convenience wrapper combining <span class='synopsis'><code>strbuf_addf</code></span> and <span class='synopsis'><code>argv_array_push</code></span>.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-argv-array.txt-spanclasssynopsiscodeargvarraypopcodespan"><a id="Documentation/technical/api-argv-array.txt-argvarraypop" class="anchor" href="#Documentation/technical/api-argv-array.txt-argvarraypop"></a><span class='synopsis'><code>argv_array_pop</code></span> </dt>
<dd>
<p>Remove the final element from the array. If there are no
elements in the array, do nothing.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-argv-array.txt-spanclasssynopsiscodeargvarrayclearcodespan"><a id="Documentation/technical/api-argv-array.txt-argvarrayclear" class="anchor" href="#Documentation/technical/api-argv-array.txt-argvarrayclear"></a><span class='synopsis'><code>argv_array_clear</code></span> </dt>
<dd>
<p>Free all memory associated with the array and return it to the
initial, empty state.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-argv-array.txt-spanclasssynopsiscodeargvarraydetachcodespan"><a id="Documentation/technical/api-argv-array.txt-argvarraydetach" class="anchor" href="#Documentation/technical/api-argv-array.txt-argvarraydetach"></a><span class='synopsis'><code>argv_array_detach</code></span> </dt>
<dd>
<p>Detach the argv array from the <span class='synopsis'><code>struct</code> <code>argv_array</code></span>, transferring
ownership of the allocated array and strings.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-argv-array.txt-spanclasssynopsiscodeargvarrayfreedetachedcodespan"><a id="Documentation/technical/api-argv-array.txt-argvarrayfreedetached" class="anchor" href="#Documentation/technical/api-argv-array.txt-argvarrayfreedetached"></a><span class='synopsis'><code>argv_array_free_detached</code></span> </dt>
<dd>
<p>Free the memory allocated by a <span class='synopsis'><code>struct</code> <code>argv_array</code></span> that was later
detached and is now no longer needed.</p>
</dd>
</dl>
</div>
</div>
</div>