---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-backfill Documentation
docname: git-backfill
version: 2.49.0
latest-changes: 2.49.0
aliases:
- "/docs/git-backfill/index.html"
---
<div class="sect1">
<h2 id="_name"><a class="anchor" href="#_name"></a>NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-backfill - Download missing objects in a partial clone</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis"><a class="anchor" href="#_synopsis"></a>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><span class='synopsis'><code>git</code></span> <span class='synopsis'><code>backfill</code></span> [<span class='synopsis'><code>--min-batch-size=</code></span><em>&lt;n&gt;</em>] [<span class='synopsis'><code>--</code></span>[<span class='synopsis'><code>no-</code></span>]<span class='synopsis'><code>sparse</code></span>]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description"><a class="anchor" href="#_description"></a>DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Blobless partial clones are created using <span class='synopsis'><code>git</code> <code>clone</code> <code>--filter=blob:none</code></span>
and then configure the local repository such that the Git client avoids
downloading blob objects unless they are required for a local operation.
This initially means that the clone and later fetches download reachable
commits and trees but no blobs. Later operations that change the <span class='synopsis'><code>HEAD</code></span>
pointer, such as <span class='synopsis'><code>git</code> <code>checkout</code></span> or <span class='synopsis'><code>git</code> <code>merge</code></span>, may need to download
missing blobs in order to complete their operation.</p>
</div>
<div class="paragraph">
<p>In the worst cases, commands that compute blob diffs, such as <span class='synopsis'><code>git</code> <code>blame</code></span>,
become very slow as they download the missing blobs in single-blob
requests to satisfy the missing object as the Git command needs it. This
leads to multiple download requests and no ability for the Git server to
provide delta compression across those objects.</p>
</div>
<div class="paragraph">
<p>The <span class='synopsis'><code>git</code> <code>backfill</code></span> command provides a way for the user to request that
Git downloads the missing blobs (with optional filters) such that the
missing blobs representing historical versions of files can be downloaded
in batches. The <span class='synopsis'><code>backfill</code></span> command attempts to optimize the request by
grouping blobs that appear at the same path, hopefully leading to good
delta compression in the packfile sent by the server.</p>
</div>
<div class="paragraph">
<p>In this way, <span class='synopsis'><code>git</code> <code>backfill</code></span> provides a mechanism to break a large clone
into smaller chunks. Starting with a blobless partial clone with <span class='synopsis'><code>git</code>

<code>clone</code> <code>--filter=blob:none</code></span> and then running <span class='synopsis'><code>git</code> <code>backfill</code></span> in the local
repository provides a way to download all reachable objects in several
smaller network calls than downloading the entire repository at clone
time.</p>
</div>
<div class="paragraph">
<p>By default, <span class='synopsis'><code>git</code> <code>backfill</code></span> downloads all blobs reachable from the <span class='synopsis'><code>HEAD</code></span>
commit. This set can be restricted or expanded using various options.</p>
</div>
<div class="paragraph">
<p>THIS COMMAND IS EXPERIMENTAL. ITS BEHAVIOR MAY CHANGE IN THE FUTURE.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options"><a class="anchor" href="#_options"></a>OPTIONS</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/git-backfill.txt-spanclasssynopsiscode--min-batch-sizecodeemltngtemspan"><a id="Documentation/git-backfill.txt---min-batch-sizen" class="anchor" href="#Documentation/git-backfill.txt---min-batch-sizen"></a><span class='synopsis'><code>--min-batch-size=</code><em>&lt;n&gt;</em></span> </dt>
<dd>
<p>Specify a minimum size for a batch of missing objects to request
from the server. This size may be exceeded by the last set of
blobs seen at a given path. The default minimum batch size is
50,000.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-backfill.txt-spanclasssynopsiscode--codecodeno-codecodesparsecodespan"><a id="Documentation/git-backfill.txt---no-sparse" class="anchor" href="#Documentation/git-backfill.txt---no-sparse"></a><span class='synopsis'><code>--</code>[<code>no-</code>]<code>sparse</code></span> </dt>
<dd>
<p>Only download objects if they appear at a path that matches the
current sparse-checkout. If the sparse-checkout feature is enabled,
then <span class='synopsis'><code>--sparse</code></span> is assumed and can be disabled with <span class='synopsis'><code>--no-sparse</code></span>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also"><a class="anchor" href="#_see_also"></a>SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href='{{< relurl "docs/git-clone" >}}'>git-clone[1]</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Part of the <a href='{{< relurl "docs/git" >}}'>git[1]</a> suite</p>
</div>
</div>
</div>