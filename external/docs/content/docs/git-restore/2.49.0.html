---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-restore Documentation
docname: git-restore
version: 2.49.0
aliases:
- "/docs/git-restore/2.49.0/index.html"
- "/docs/git-restore/2.49.1/index.html"
---
<div class="sect1">
<h2 id="_name"><a class="anchor" href="#_name"></a>NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-restore - Restore working tree files</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis"><a class="anchor" href="#_synopsis"></a>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><span class='synopsis'><code>git</code></span> <span class='synopsis'><code>restore</code></span> [<em>&lt;options&gt;</em>] [<span class='synopsis'><code>--source=</code></span><em>&lt;tree&gt;</em>] [<span class='synopsis'><code>--staged</code></span>] [<span class='synopsis'><code>--worktree</code></span>] [<span class='synopsis'><code>--</code></span>] <em>&lt;pathspec&gt;</em>&#8230;&#8203;
<span class='synopsis'><code>git</code></span> <span class='synopsis'><code>restore</code></span> [<em>&lt;options&gt;</em>] [<span class='synopsis'><code>--source=</code></span><em>&lt;tree&gt;</em>] [<span class='synopsis'><code>--staged</code></span>] [<span class='synopsis'><code>--worktree</code></span>] <span class='synopsis'><code>--pathspec-from-file=</code></span><em>&lt;file&gt;</em> [<span class='synopsis'><code>--pathspec-file-nul</code></span>]
<span class='synopsis'><code>git</code></span> <span class='synopsis'><code>restore</code></span> (<span class='synopsis'><code>-p</code></span>|<span class='synopsis'><code>--patch</code></span>) [<em>&lt;options&gt;</em>] [<span class='synopsis'><code>--source=</code></span><em>&lt;tree&gt;</em>] [<span class='synopsis'><code>--staged</code></span>] [<span class='synopsis'><code>--worktree</code></span>] [<span class='synopsis'><code>--</code></span>] [<em>&lt;pathspec&gt;</em>&#8230;&#8203;]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description"><a class="anchor" href="#_description"></a>DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Restore specified paths in the working tree with some contents from a
restore source. If a path is tracked but does not exist in the restore
source, it will be removed to match the source.</p>
</div>
<div class="paragraph">
<p>The command can also be used to restore the content in the index with
<span class='synopsis'><code>--staged</code></span>, or restore both the working tree and the index with
<span class='synopsis'><code>--staged</code> <code>--worktree</code></span>.</p>
</div>
<div class="paragraph">
<p>By default, if <span class='synopsis'><code>--staged</code></span> is given, the contents are restored from <span class='synopsis'><code>HEAD</code></span>,
otherwise from the index. Use <span class='synopsis'><code>--source</code></span> to restore from a different commit.</p>
</div>
<div class="paragraph">
<p>See "Reset, restore and revert" in <a href='{{< relurl "docs/git" >}}'>git[1]</a> for the differences
between the three commands.</p>
</div>
<div class="paragraph">
<p>THIS COMMAND IS EXPERIMENTAL. THE BEHAVIOR MAY CHANGE.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options"><a class="anchor" href="#_options"></a>OPTIONS</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-scodeemlttreegtemspan"><a id="Documentation/git-restore.txt--stree" class="anchor" href="#Documentation/git-restore.txt--stree"></a><span class='synopsis'><code>-s</code> <em>&lt;tree&gt;</em></span> </dt>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--sourcecodeemlttreegtemspan"><a id="Documentation/git-restore.txt---sourcetree" class="anchor" href="#Documentation/git-restore.txt---sourcetree"></a><span class='synopsis'><code>--source=</code><em>&lt;tree&gt;</em></span> </dt>
<dd>
<p>Restore the working tree files with the content from the given
tree. It is common to specify the source tree by naming a
commit, branch or tag associated with it.</p>
<div class="paragraph">
<p>If not specified, the contents are restored from <span class='synopsis'><code>HEAD</code></span> if <span class='synopsis'><code>--staged</code></span> is
given, otherwise from the index.</p>
</div>
<div class="paragraph">
<p>As a special case, you may use <span class='synopsis'><code>"</code><em>&lt;rev-A&gt;</em><code>...</code><em>&lt;rev-B&gt;</em><code>"</code></span> as a shortcut for the
merge base of <em>&lt;rev-A&gt;</em> and <em>&lt;rev-B&gt;</em> if there is exactly one merge base. You can
leave out at most one of <em>&lt;rev-A&gt;_</em> and <em>&lt;rev-B&gt;</em>, in which case it defaults to <span class='synopsis'><code>HEAD</code></span>.</p>
</div>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-pcodespan"><a id="Documentation/git-restore.txt--p" class="anchor" href="#Documentation/git-restore.txt--p"></a><span class='synopsis'><code>-p</code></span> </dt>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--patchcodespan"><a id="Documentation/git-restore.txt---patch" class="anchor" href="#Documentation/git-restore.txt---patch"></a><span class='synopsis'><code>--patch</code></span> </dt>
<dd>
<p>Interactively select hunks in the difference between the
restore source and the restore location. See the "Interactive
Mode" section of <a href='{{< relurl "docs/git-add" >}}'>git-add[1]</a> to learn how to operate
the <span class='synopsis'><code>--patch</code></span> mode.</p>
<div class="paragraph">
<p>Note that <span class='synopsis'><code>--patch</code></span> can accept no pathspec and will prompt to restore
all modified paths.</p>
</div>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-Wcodespan"><a id="Documentation/git-restore.txt--W" class="anchor" href="#Documentation/git-restore.txt--W"></a><span class='synopsis'><code>-W</code></span> </dt>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--worktreecodespan"><a id="Documentation/git-restore.txt---worktree" class="anchor" href="#Documentation/git-restore.txt---worktree"></a><span class='synopsis'><code>--worktree</code></span> </dt>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-Scodespan"><a id="Documentation/git-restore.txt--S" class="anchor" href="#Documentation/git-restore.txt--S"></a><span class='synopsis'><code>-S</code></span> </dt>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--stagedcodespan"><a id="Documentation/git-restore.txt---staged" class="anchor" href="#Documentation/git-restore.txt---staged"></a><span class='synopsis'><code>--staged</code></span> </dt>
<dd>
<p>Specify the restore location. If neither option is specified,
by default the working tree is restored. Specifying <span class='synopsis'><code>--staged</code></span>
will only restore the index. Specifying both restores both.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-qcodespan"><a id="Documentation/git-restore.txt--q" class="anchor" href="#Documentation/git-restore.txt--q"></a><span class='synopsis'><code>-q</code></span> </dt>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--quietcodespan"><a id="Documentation/git-restore.txt---quiet" class="anchor" href="#Documentation/git-restore.txt---quiet"></a><span class='synopsis'><code>--quiet</code></span> </dt>
<dd>
<p>Quiet, suppress feedback messages. Implies <span class='synopsis'><code>--no-progress</code></span>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--progresscodespan"><a id="Documentation/git-restore.txt---progress" class="anchor" href="#Documentation/git-restore.txt---progress"></a><span class='synopsis'><code>--progress</code></span> </dt>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--no-progresscodespan"><a id="Documentation/git-restore.txt---no-progress" class="anchor" href="#Documentation/git-restore.txt---no-progress"></a><span class='synopsis'><code>--no-progress</code></span> </dt>
<dd>
<p>Progress status is reported on the standard error stream
by default when it is attached to a terminal, unless <span class='synopsis'><code>--quiet</code></span>
is specified. This flag enables progress reporting even if not
attached to a terminal, regardless of <span class='synopsis'><code>--quiet</code></span>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--ourscodespan"><a id="Documentation/git-restore.txt---ours" class="anchor" href="#Documentation/git-restore.txt---ours"></a><span class='synopsis'><code>--ours</code></span> </dt>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--theirscodespan"><a id="Documentation/git-restore.txt---theirs" class="anchor" href="#Documentation/git-restore.txt---theirs"></a><span class='synopsis'><code>--theirs</code></span> </dt>
<dd>
<p>When restoring files in the working tree from the index, use
stage #2 (<span class='synopsis'><code>ours</code></span>) or #3 (<span class='synopsis'><code>theirs</code></span>) for unmerged paths.
This option cannot be used when checking out paths from a
tree-ish (i.e. with the <span class='synopsis'><code>--source</code></span> option).</p>
<div class="paragraph">
<p>Note that during <span class='synopsis'><code>git</code> <code>rebase</code></span> and <span class='synopsis'><code>git</code> <code>pull</code> <code>--rebase</code></span>, <span class='synopsis'><code>ours</code></span> and
<span class='synopsis'><code>theirs</code></span> may appear swapped. See the explanation of the same options
in <a href='{{< relurl "docs/git-checkout" >}}'>git-checkout[1]</a> for details.</p>
</div>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-mcodespan"><a id="Documentation/git-restore.txt--m" class="anchor" href="#Documentation/git-restore.txt--m"></a><span class='synopsis'><code>-m</code></span> </dt>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--mergecodespan"><a id="Documentation/git-restore.txt---merge" class="anchor" href="#Documentation/git-restore.txt---merge"></a><span class='synopsis'><code>--merge</code></span> </dt>
<dd>
<p>When restoring files on the working tree from the index,
recreate the conflicted merge in the unmerged paths.
This option cannot be used when checking out paths from a
tree-ish (i.e. with the <span class='synopsis'><code>--source</code></span> option).</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--conflictcodeemltstylegtemspan"><a id="Documentation/git-restore.txt---conflictstyle" class="anchor" href="#Documentation/git-restore.txt---conflictstyle"></a><span class='synopsis'><code>--conflict=</code><em>&lt;style&gt;</em></span> </dt>
<dd>
<p>The same as <span class='synopsis'><code>--merge</code></span> option above, but changes the way the
conflicting hunks are presented, overriding the
<span class='synopsis'><code>merge.conflictStyle</code></span> configuration variable.  Possible values
are <span class='synopsis'><code>merge</code></span> (default), <span class='synopsis'><code>diff3</code></span>, and <span class='synopsis'><code>zdiff3</code></span>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--ignore-unmergedcodespan"><a id="Documentation/git-restore.txt---ignore-unmerged" class="anchor" href="#Documentation/git-restore.txt---ignore-unmerged"></a><span class='synopsis'><code>--ignore-unmerged</code></span> </dt>
<dd>
<p>When restoring files on the working tree from the index, do
not abort the operation if there are unmerged entries and
neither <span class='synopsis'><code>--ours</code></span>, <span class='synopsis'><code>--theirs</code></span>, <span class='synopsis'><code>--merge</code></span> or <span class='synopsis'><code>--conflict</code></span> is
specified. Unmerged paths on the working tree are left alone.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--ignore-skip-worktree-bitscodespan"><a id="Documentation/git-restore.txt---ignore-skip-worktree-bits" class="anchor" href="#Documentation/git-restore.txt---ignore-skip-worktree-bits"></a><span class='synopsis'><code>--ignore-skip-worktree-bits</code></span> </dt>
<dd>
<p>In sparse checkout mode, the default is to only update entries
matched by <em>&lt;pathspec&gt;</em> and sparse patterns in
<span class='synopsis'><code>$GIT_DIR/info/sparse-checkout</code></span>. This option ignores the sparse
patterns and unconditionally restores any files in
<em>&lt;pathspec&gt;</em>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--recurse-submodulescodespan"><a id="Documentation/git-restore.txt---recurse-submodules" class="anchor" href="#Documentation/git-restore.txt---recurse-submodules"></a><span class='synopsis'><code>--recurse-submodules</code></span> </dt>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--no-recurse-submodulescodespan"><a id="Documentation/git-restore.txt---no-recurse-submodules" class="anchor" href="#Documentation/git-restore.txt---no-recurse-submodules"></a><span class='synopsis'><code>--no-recurse-submodules</code></span> </dt>
<dd>
<p>If <em>&lt;pathspec&gt;</em> names an active submodule and the restore location
includes the working tree, the submodule will only be updated if
this option is given, in which case its working tree will be
restored to the commit recorded in the superproject, and any local
modifications overwritten. If nothing (or
<span class='synopsis'><code>--no-recurse-submodules</code></span>) is used, submodules working trees will
not be updated. Just like <a href='{{< relurl "docs/git-checkout" >}}'>git-checkout[1]</a>, this will detach
<span class='synopsis'><code>HEAD</code></span> of the submodule.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--overlaycodespan"><a id="Documentation/git-restore.txt---overlay" class="anchor" href="#Documentation/git-restore.txt---overlay"></a><span class='synopsis'><code>--overlay</code></span> </dt>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--no-overlaycodespan"><a id="Documentation/git-restore.txt---no-overlay" class="anchor" href="#Documentation/git-restore.txt---no-overlay"></a><span class='synopsis'><code>--no-overlay</code></span> </dt>
<dd>
<p>In overlay mode, never remove files when restoring. In no-overlay mode,
remove tracked files that do not appear in the <em>&lt;tree&gt;</em> of
<span class='synopsis'><code>--source=</code><em>&lt;tree&gt;</em></span>, to make them match <em>&lt;tree&gt;</em> exactly. The default
is no-overlay mode.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--pathspec-from-filecodeemltfilegtemspan"><a id="Documentation/git-restore.txt---pathspec-from-filefile" class="anchor" href="#Documentation/git-restore.txt---pathspec-from-filefile"></a><span class='synopsis'><code>--pathspec-from-file=</code><em>&lt;file&gt;</em></span> </dt>
<dd>
<p>Pathspec is passed in <em>&lt;file&gt;</em> instead of commandline args. If
<em>&lt;file&gt;</em> is exactly <span class='synopsis'><code>-</code></span> then standard input is used. Pathspec
elements are separated by <em>LF</em> or <em>CR</em>/<em>LF</em>. Pathspec elements can be
quoted as explained for the configuration variable <span class='synopsis'><code>core.quotePath</code></span>
(see <a href='{{< relurl "docs/git-config" >}}'>git-config[1]</a>). See also <span class='synopsis'><code>--pathspec-file-nul</code></span> and
global <span class='synopsis'><code>--literal-pathspecs</code></span>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--pathspec-file-nulcodespan"><a id="Documentation/git-restore.txt---pathspec-file-nul" class="anchor" href="#Documentation/git-restore.txt---pathspec-file-nul"></a><span class='synopsis'><code>--pathspec-file-nul</code></span> </dt>
<dd>
<p>Only meaningful with <span class='synopsis'><code>--pathspec-from-file</code></span>. Pathspec elements are
separated with <em>NUL</em> character and all other characters are taken
literally (including newlines and quotes).</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--codespan"><a id="Documentation/git-restore.txt---" class="anchor" href="#Documentation/git-restore.txt---"></a><span class='synopsis'><code>--</code></span> </dt>
<dd>
<p>Do not interpret any more arguments as options.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsisemltpathspecgtemspan"><a id="Documentation/git-restore.txt-pathspec" class="anchor" href="#Documentation/git-restore.txt-pathspec"></a><span class='synopsis'><em>&lt;pathspec&gt;</em>...</span> </dt>
<dd>
<p>Limits the paths affected by the operation.</p>
<div class="paragraph">
<p>For more details, see the <em>pathspec</em> entry in <a href='{{< relurl "docs/gitglossary" >}}'>gitglossary[7]</a>.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples"><a class="anchor" href="#_examples"></a>EXAMPLES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following sequence switches to the <span class='synopsis'><code>master</code></span> branch, reverts the
<span class='synopsis'><code>Makefile</code></span> to two revisions back, deletes <span class='synopsis'><code>hello.c</code></span> by mistake, and gets
it back from the index.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git switch master
$ git restore --source master~2 Makefile  <b class="conum">(1)</b>
$ rm -f hello.c
$ git restore hello.c                     <b class="conum">(2)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>take a file out of another commit</p>
</li>
<li>
<p>restore <span class='synopsis'><code>hello.c</code></span> from the index</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you want to restore <em>all</em> C source files to match the version in
the index, you can say</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git restore '*.c'</pre>
</div>
</div>
<div class="paragraph">
<p>Note the quotes around <span class='synopsis'><code>*.c</code></span>.  The file <span class='synopsis'><code>hello.c</code></span> will also be
restored, even though it is no longer in the working tree, because the
file globbing is used to match entries in the index (not in the
working tree by the shell).</p>
</div>
<div class="paragraph">
<p>To restore all files in the current directory</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git restore .</pre>
</div>
</div>
<div class="paragraph">
<p>or to restore all working tree files with <em>top</em> pathspec magic (see
<a href='{{< relurl "docs/gitglossary" >}}'>gitglossary[7]</a>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git restore :/</pre>
</div>
</div>
<div class="paragraph">
<p>To restore a file in the index to match the version in <span class='synopsis'><code>HEAD</code></span> (this is
the same as using <a href='{{< relurl "docs/git-reset" >}}'>git-reset[1]</a>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git restore --staged hello.c</pre>
</div>
</div>
<div class="paragraph">
<p>or you can restore both the index and the working tree (this is the same
as using <a href='{{< relurl "docs/git-checkout" >}}'>git-checkout[1]</a>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git restore --source=HEAD --staged --worktree hello.c</pre>
</div>
</div>
<div class="paragraph">
<p>or the short form which is more practical but less readable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git restore -s@ -SW hello.c</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also"><a class="anchor" href="#_see_also"></a>SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href='{{< relurl "docs/git-checkout" >}}'>git-checkout[1]</a>,
<a href='{{< relurl "docs/git-reset" >}}'>git-reset[1]</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Part of the <a href='{{< relurl "docs/git" >}}'>git[1]</a> suite</p>
</div>
</div>
</div>