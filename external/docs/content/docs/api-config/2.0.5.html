---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - api-config Documentation
docname: api-config
version: 2.0.5
aliases:
- "/docs/api-config/2.0.5/index.html"
---
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The config API gives callers a way to access Git configuration files
(and files which have the same syntax). See <a href='{{< relurl "docs/git-config" >}}'>git-config[1]</a> for a
discussion of the config file syntax.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_general_usage"><a class="anchor" href="#_general_usage"></a>General Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Config files are parsed linearly, and each variable found is passed to a
caller-provided callback function. The callback function is responsible
for any actions to be taken on the config option, and is free to ignore
some options. It is not uncommon for the configuration to be parsed
several times during the run of a Git program, with different callbacks
picking out different variables useful to themselves.</p>
</div>
<div class="paragraph">
<p>A config callback function takes three parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the name of the parsed variable. This is in canonical "flat" form: the
section, subsection, and variable segments will be separated by dots,
and the section and variable segments will be all lowercase. E.g.,
<span class='synopsis'><code>core.ignorecase</code></span>, <span class='synopsis'><code>diff.SomeType.textconv</code></span>.</p>
</li>
<li>
<p>the value of the found variable, as a string. If the variable had no
value specified, the value will be NULL (typically this means it
should be interpreted as boolean true).</p>
</li>
<li>
<p>a void pointer passed in by the caller of the config API; this can
contain callback-specific data</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A config callback should return 0 for success, or -1 if the variable
could not be parsed properly.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_basic_config_querying"><a class="anchor" href="#_basic_config_querying"></a>Basic Config Querying</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most programs will simply want to look up variables in all config files
that Git knows about, using the normal precedence rules. To do this,
call <span class='synopsis'><code>git_config</code></span> with a callback function and void data pointer.</p>
</div>
<div class="paragraph">
<p><span class='synopsis'><code>git_config</code></span> will read all config sources in order of increasing
priority. Thus a callback should typically overwrite previously-seen
entries with new ones (e.g., if both the user-wide <span class='synopsis'><code>~/.gitconfig</code></span> and
repo-specific <span class='synopsis'><code>.git/config</code></span> contain <span class='synopsis'><code>color.ui</code></span>, the config machinery
will first feed the user-wide one to the callback, and then the
repo-specific one; by overwriting, the higher-priority repo-specific
value is left at the end).</p>
</div>
<div class="paragraph">
<p>The <span class='synopsis'><code>git_config_with_options</code></span> function lets the caller examine config
while adjusting some of the default behavior of <span class='synopsis'><code>git_config</code></span>. It should
almost never be used by "regular" Git code that is looking up
configuration variables. It is intended for advanced callers like
<span class='synopsis'><code>git-config</code></span>, which are intentionally tweaking the normal config-lookup
process. It takes two extra parameters:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/technical/api-config.txt-spanclasssynopsiscodefilenamecodespan"><a id="Documentation/technical/api-config.txt-filename" class="anchor" href="#Documentation/technical/api-config.txt-filename"></a><span class='synopsis'><code>filename</code></span> </dt>
<dd>
<p>If this parameter is non-NULL, it specifies the name of a file to
parse for configuration, rather than looking in the usual files. Regular
<span class='synopsis'><code>git_config</code></span> defaults to <span class='synopsis'><code>NULL</code></span>.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-config.txt-spanclasssynopsiscoderespectincludescodespan"><a id="Documentation/technical/api-config.txt-respectincludes" class="anchor" href="#Documentation/technical/api-config.txt-respectincludes"></a><span class='synopsis'><code>respect_includes</code></span> </dt>
<dd>
<p>Specify whether include directives should be followed in parsed files.
Regular <span class='synopsis'><code>git_config</code></span> defaults to <span class='synopsis'><code>1</code></span>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>There is a special version of <span class='synopsis'><code>git_config</code></span> called <span class='synopsis'><code>git_config_early</code></span>.
This version takes an additional parameter to specify the repository
config, instead of having it looked up via <span class='synopsis'><code>git_path</code></span>. This is useful
early in a Git program before the repository has been found. Unless
you&#8217;re working with early setup code, you probably don&#8217;t want to use
this.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reading_specific_files"><a class="anchor" href="#_reading_specific_files"></a>Reading Specific Files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To read a specific file in git-config format, use
<span class='synopsis'><code>git_config_from_file</code></span>. This takes the same callback and data parameters
as <span class='synopsis'><code>git_config</code></span>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_value_parsing_helpers"><a class="anchor" href="#_value_parsing_helpers"></a>Value Parsing Helpers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To aid in parsing string values, the config API provides callbacks with
a number of helper functions, including:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/technical/api-config.txt-spanclasssynopsiscodegitconfigintcodespan"><a id="Documentation/technical/api-config.txt-gitconfigint" class="anchor" href="#Documentation/technical/api-config.txt-gitconfigint"></a><span class='synopsis'><code>git_config_int</code></span> </dt>
<dd>
<p>Parse the string to an integer, including unit factors. Dies on error;
otherwise, returns the parsed result.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-config.txt-spanclasssynopsiscodegitconfigulongcodespan"><a id="Documentation/technical/api-config.txt-gitconfigulong" class="anchor" href="#Documentation/technical/api-config.txt-gitconfigulong"></a><span class='synopsis'><code>git_config_ulong</code></span> </dt>
<dd>
<p>Identical to <span class='synopsis'><code>git_config_int</code></span>, but for unsigned longs.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-config.txt-spanclasssynopsiscodegitconfigboolcodespan"><a id="Documentation/technical/api-config.txt-gitconfigbool" class="anchor" href="#Documentation/technical/api-config.txt-gitconfigbool"></a><span class='synopsis'><code>git_config_bool</code></span> </dt>
<dd>
<p>Parse a string into a boolean value, respecting keywords like "true" and
"false". Integer values are converted into true/false values (when they
are non-zero or zero, respectively). Other values cause a die(). If
parsing is successful, the return value is the result.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-config.txt-spanclasssynopsiscodegitconfigboolorintcodespan"><a id="Documentation/technical/api-config.txt-gitconfigboolorint" class="anchor" href="#Documentation/technical/api-config.txt-gitconfigboolorint"></a><span class='synopsis'><code>git_config_bool_or_int</code></span> </dt>
<dd>
<p>Same as <span class='synopsis'><code>git_config_bool</code></span>, except that integers are returned as-is, and
an <span class='synopsis'><code>is_bool</code></span> flag is unset.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-config.txt-spanclasssynopsiscodegitconfigmaybeboolcodespan"><a id="Documentation/technical/api-config.txt-gitconfigmaybebool" class="anchor" href="#Documentation/technical/api-config.txt-gitconfigmaybebool"></a><span class='synopsis'><code>git_config_maybe_bool</code></span> </dt>
<dd>
<p>Same as <span class='synopsis'><code>git_config_bool</code></span>, except that it returns -1 on error rather
than dying.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-config.txt-spanclasssynopsiscodegitconfigstringcodespan"><a id="Documentation/technical/api-config.txt-gitconfigstring" class="anchor" href="#Documentation/technical/api-config.txt-gitconfigstring"></a><span class='synopsis'><code>git_config_string</code></span> </dt>
<dd>
<p>Allocates and copies the value string into the <span class='synopsis'><code>dest</code></span> parameter; if no
string is given, prints an error message and returns -1.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-config.txt-spanclasssynopsiscodegitconfigpathnamecodespan"><a id="Documentation/technical/api-config.txt-gitconfigpathname" class="anchor" href="#Documentation/technical/api-config.txt-gitconfigpathname"></a><span class='synopsis'><code>git_config_pathname</code></span> </dt>
<dd>
<p>Similar to <span class='synopsis'><code>git_config_string</code></span>, but expands <span class='synopsis'><code>~</code></span> or <span class='synopsis'><code>~user</code></span> into the
user&#8217;s home directory when found at the beginning of the path.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_include_directives"><a class="anchor" href="#_include_directives"></a>Include Directives</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, the config parser does not respect include directives.
However, a caller can use the special <span class='synopsis'><code>git_config_include</code></span> wrapper
callback to support them. To do so, you simply wrap your "real" callback
function and data pointer in a <span class='synopsis'><code>struct</code> <code>config_include_data</code></span>, and pass
the wrapper to the regular config-reading functions. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>int read_file_with_include(const char *file, config_fn_t fn, void *data)
{
	struct config_include_data inc = CONFIG_INCLUDE_INIT;
	inc.fn = fn;
	inc.data = data;
	return git_config_from_file(git_config_include, file, &amp;inc);
}</pre>
</div>
</div>
<div class="paragraph">
<p><span class='synopsis'><code>git_config</code></span> respects includes automatically. The lower-level
<span class='synopsis'><code>git_config_from_file</code></span> does not.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_writing_config_files"><a class="anchor" href="#_writing_config_files"></a>Writing Config Files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>