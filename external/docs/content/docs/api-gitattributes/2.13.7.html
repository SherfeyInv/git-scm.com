---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - api-gitattributes Documentation
docname: api-gitattributes
version: 2.13.7
aliases:
- "/docs/api-gitattributes/2.13.7/index.html"
- "/docs/api-gitattributes/2.14.6/index.html"
- "/docs/api-gitattributes/2.15.4/index.html"
- "/docs/api-gitattributes/2.16.6/index.html"
- "/docs/api-gitattributes/2.17.0/index.html"
- "/docs/api-gitattributes/2.17.1/index.html"
- "/docs/api-gitattributes/2.17.2/index.html"
- "/docs/api-gitattributes/2.17.3/index.html"
- "/docs/api-gitattributes/2.17.4/index.html"
- "/docs/api-gitattributes/2.17.5/index.html"
- "/docs/api-gitattributes/2.17.6/index.html"
- "/docs/api-gitattributes/2.18.0/index.html"
- "/docs/api-gitattributes/2.18.1/index.html"
- "/docs/api-gitattributes/2.18.2/index.html"
- "/docs/api-gitattributes/2.18.3/index.html"
- "/docs/api-gitattributes/2.18.4/index.html"
- "/docs/api-gitattributes/2.18.5/index.html"
---
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>gitattributes mechanism gives a uniform way to associate various
attributes to set of paths.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_structure"><a class="anchor" href="#_data_structure"></a>Data Structure</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/technical/api-gitattributes.txt-spanclasssynopsiscodestructcodecodegitattrcodespan"><a id="Documentation/technical/api-gitattributes.txt-structgitattr" class="anchor" href="#Documentation/technical/api-gitattributes.txt-structgitattr"></a><span class='synopsis'><code>struct</code> <code>git_attr</code></span> </dt>
<dd>
<p>An attribute is an opaque object that is identified by its name.
Pass the name to <span class='synopsis'><code>git_attr</code>()</span> function to obtain the object of
this type.  The internal representation of this structure is
of no interest to the calling programs.  The name of the
attribute can be retrieved by calling <span class='synopsis'><code>git_attr_name</code>()</span>.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-gitattributes.txt-spanclasssynopsiscodestructcodecodeattrcheckitemcodespan"><a id="Documentation/technical/api-gitattributes.txt-structattrcheckitem" class="anchor" href="#Documentation/technical/api-gitattributes.txt-structattrcheckitem"></a><span class='synopsis'><code>struct</code> <code>attr_check_item</code></span> </dt>
<dd>
<p>This structure represents one attribute and its value.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-gitattributes.txt-spanclasssynopsiscodestructcodecodeattrcheckcodespan"><a id="Documentation/technical/api-gitattributes.txt-structattrcheck" class="anchor" href="#Documentation/technical/api-gitattributes.txt-structattrcheck"></a><span class='synopsis'><code>struct</code> <code>attr_check</code></span> </dt>
<dd>
<p>This structure represents a collection of <span class='synopsis'><code>attr_check_item</code></span>.
It is passed to <span class='synopsis'><code>git_check_attr</code>()</span> function, specifying the
attributes to check, and receives their values.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attribute_values"><a class="anchor" href="#_attribute_values"></a>Attribute Values</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An attribute for a path can be in one of four states: Set, Unset,
Unspecified or set to a string, and <span class='synopsis'><code>.value</code></span> member of <span class='synopsis'><code>struct</code>

<code>attr_check_item</code></span> records it.  There are three macros to check these:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/technical/api-gitattributes.txt-spanclasssynopsiscodeATTRTRUEcodespan"><a id="Documentation/technical/api-gitattributes.txt-ATTRTRUE" class="anchor" href="#Documentation/technical/api-gitattributes.txt-ATTRTRUE"></a><span class='synopsis'><code>ATTR_TRUE</code>()</span> </dt>
<dd>
<p>Returns true if the attribute is Set for the path.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-gitattributes.txt-spanclasssynopsiscodeATTRFALSEcodespan"><a id="Documentation/technical/api-gitattributes.txt-ATTRFALSE" class="anchor" href="#Documentation/technical/api-gitattributes.txt-ATTRFALSE"></a><span class='synopsis'><code>ATTR_FALSE</code>()</span> </dt>
<dd>
<p>Returns true if the attribute is Unset for the path.</p>
</dd>
<dt class="hdlist1" id="Documentation/technical/api-gitattributes.txt-spanclasssynopsiscodeATTRUNSETcodespan"><a id="Documentation/technical/api-gitattributes.txt-ATTRUNSET" class="anchor" href="#Documentation/technical/api-gitattributes.txt-ATTRUNSET"></a><span class='synopsis'><code>ATTR_UNSET</code>()</span> </dt>
<dd>
<p>Returns true if the attribute is Unspecified for the path.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If none of the above returns true, <span class='synopsis'><code>.value</code></span> member points at a string
value of the attribute for the path.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_querying_specific_attributes"><a class="anchor" href="#_querying_specific_attributes"></a>Querying Specific Attributes</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Prepare <span class='synopsis'><code>struct</code> <code>attr_check</code></span> using attr_check_initl()
function, enumerating the names of attributes whose values you are
interested in, terminated with a NULL pointer.  Alternatively, an
empty <span class='synopsis'><code>struct</code> <code>attr_check</code></span> can be prepared by calling
<span class='synopsis'><code>attr_check_alloc</code>()</span> function and then attributes you want to
ask about can be added to it with <span class='synopsis'><code>attr_check_append</code>()</span>
function.</p>
</li>
<li>
<p>Call <span class='synopsis'><code>git_check_attr</code>()</span> to check the attributes for the path.</p>
</li>
<li>
<p>Inspect <span class='synopsis'><code>attr_check</code></span> structure to see how each of the
attribute in the array is defined for the path.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example"><a class="anchor" href="#_example"></a>Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To see how attributes "crlf" and "ident" are set for different paths.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Prepare a <span class='synopsis'><code>struct</code> <code>attr_check</code></span> with two elements (because
we are checking two attributes):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>static struct attr_check *check;
static void setup_check(void)
{
	if (check)
		return; /* already done */
	check = attr_check_initl("crlf", "ident", NULL);
}</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Call <span class='synopsis'><code>git_check_attr</code>()</span> with the prepared <span class='synopsis'><code>struct</code> <code>attr_check</code></span>:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>	const char *path;

	setup_check();
	git_check_attr(path, check);</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Act on <span class='synopsis'><code>.value</code></span> member of the result, left in <span class='synopsis'><em>check-&gt;items[]</em></span>:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>	const char *value = check-&gt;items[0].value;

	if (ATTR_TRUE(value)) {
		The attribute is Set, by listing only the name of the
		attribute in the gitattributes file for the path.
	} else if (ATTR_FALSE(value)) {
		The attribute is Unset, by listing the name of the
		attribute prefixed with a dash - for the path.
	} else if (ATTR_UNSET(value)) {
		The attribute is neither set nor unset for the path.
	} else if (!strcmp(value, "input")) {
		If none of ATTR_TRUE(), ATTR_FALSE(), or ATTR_UNSET() is
		true, the value is a string set in the gitattributes
		file for the path by saying "attr=value".
	} else if (... other check using value as string ...) {
		...
	}</pre>
</div>
</div>
<div class="paragraph">
<p>To see how attributes in argv[] are set for different paths, only
the first step in the above would be different.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>static struct attr_check *check;
static void setup_check(const char **argv)
{
	check = attr_check_alloc();
	while (*argv) {
		struct git_attr *attr = git_attr(*argv);
		attr_check_append(check, attr);
		argv++;
	}
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_querying_all_attributes"><a class="anchor" href="#_querying_all_attributes"></a>Querying All Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To get the values of all attributes associated with a file:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Prepare an empty <span class='synopsis'><code>attr_check</code></span> structure by calling
<span class='synopsis'><code>attr_check_alloc</code>()</span>.</p>
</li>
<li>
<p>Call <span class='synopsis'><code>git_all_attrs</code>()</span>, which populates the <span class='synopsis'><code>attr_check</code></span>
with the attributes attached to the path.</p>
</li>
<li>
<p>Iterate over the <span class='synopsis'><code>attr_check.items</code>[]</span> array to examine
the attribute names and values.  The name of the attribute
described by a  <span class='synopsis'><code>attr_check.items</code>[]</span> object can be retrieved via
<span class='synopsis'><em>git_attr_name(check-&gt;items[i].attr)</em></span>.  (Please note that no items
will be returned for unset attributes, so <span class='synopsis'><code>ATTR_UNSET</code>()</span> will return
false for all returned <span class='synopsis'><code>attr_check.items</code>[]</span> objects.)</p>
</li>
<li>
<p>Free the <span class='synopsis'><code>attr_check</code></span> struct by calling <span class='synopsis'><code>attr_check_free</code>()</span>.</p>
</li>
</ul>
</div>
</div>
</div>